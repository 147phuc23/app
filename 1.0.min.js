/**
 * App.js v1.0
 * Instant mobile web app creation
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * swapper.js beta
 * UI navigation and transition utility
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * clickable.js v1.0
 * Seamless buttons for mobile devices
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * scrollable.js v1.0
 * Seamless scrolling for mobile devices
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * iScroll v4.1.6
 * Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under the MIT license
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

var Swapper=function(t,l,G,m){function x(c,e){var f=e.parentNode;f.lastchild===e?f.appendChild(c):f.insertBefore(c,e.nextSibling)}function r(c){c.parentNode&&c.parentNode.removeChild(c)}function v(c,e){c.style["-webkit-transform"]=e;c.style["-moz-transform"]=e;c.style["-ms-transform"]=e;c.style["-o-transform"]=e;c.style.transform=e}function E(c,e){e?(c.style["-webkit-transition"]="-webkit-"+e,c.style["-moz-transition"]="-moz-"+e,c.style["-ms-transition"]="-ms-"+e,c.style["-o-transition"]="-o-"+e,
c.style.transition=e):(c.style["-webkit-transition"]="",c.style["-moz-transition"]="",c.style["-ms-transition"]="",c.style["-o-transition"]="",c.style.transition="")}function B(c,e){var f;f=e?c.style:l.defaultView.getComputedStyle(c,null);return{opacity:f.opacity,top:f.top,left:f.left,height:f.height,width:f.width,position:f.position}}function C(c){var e;a:if(c){try{e=c instanceof Node||c instanceof HTMLElement;break a}catch(f){}e="object"!==typeof c||"number"!==typeof c.nodeType||"string"!==typeof c.nodeName?
!1:!0}else e=!1;if(!e)throw TypeError("element must be a DOM node, got "+c);}function w(c,e,f,j){function m(){r(c);E(c,"");E(e,"");setTimeout(function(){v(c,"");v(e,"");A[0].fade&&(e.style.opacity=u.opacity);A[1].fade&&(c.style.opacity=h.opacity);e.style.position=u.position;e.style.top=u.top;e.style.left=u.left;e.style.height=u.height;e.style.width=u.width;c._swapper=!1;e._swapper=!1;j()},0)}C(c);C(e);"function"===typeof f&&(j=f,f={});switch(typeof f){case "string":f={transition:f};break;case "undefined":f=
{};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+f);}switch(typeof f.transition){case "string":if(!(f.transition in H)&&"instant"!==f.transition)throw TypeError(f.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+f.transition);}switch(typeof f.duration){case "number":if(0>f.duration)throw TypeError("duration must be a non-negative integer, got "+f.duration);break;
case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+f.duration);}switch(typeof f.easing){case "string":if(!(f.easing in g))throw TypeError(f.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+f.easing);}var o=j;switch(typeof o){case "undefined":o=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+o);}j=o;if(c._swapper)throw Error("elem1 is currently being swapped");
if(e._swapper)throw Error("elem2 is currently being swapped");a:{for(o=c;o=o.parentNode;)if(o===l){o=!0;break a}o=!1}if(!o)throw Error("elem1 must be in the DOM to be swapped");c._swapper=!0;e._swapper=!0;r(e);if("instant"===f.transition)x(e,c),r(c),c._swapper=!1,e._swapper=!1,setTimeout(function(){j()},0);else{var A=H[f.transition||"fade"],k=g[f.easing||"ease-in-out"],y=f.duration||300;x(e,c);var f=c.getBoundingClientRect(),o=B(c),h=B(c,!0),u=B(e,!0);e.style.position="fixed";e.style.top=f.top+"px";
e.style.left=f.left+"px";e.style.height=o.height;e.style.width=o.width;v(c,F);v(e,A[0].transform||F);A[0].fade&&(e.style.opacity="0");A[1].fade&&(c.style.opacity="1");setTimeout(function(){var f="transform "+y/1E3+"s "+k+", opacity "+y/1E3+"s "+k;E(c,f);E(e,f);setTimeout(function(){v(c,A[1].transform||F);v(e,F);A[0].fade&&(e.style.opacity="1");A[1].fade&&(c.style.opacity="0");setTimeout(m,y)},0)},0)}}var F="translate3d(0,0,0)",H={fade:[{fade:!0},{fade:!0}],"scale-in":[{transform:"scale(0.01)"},{fade:!0}],
"scale-out":[{fade:!0},{transform:"scale(0.01)"}],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},
{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},{fade:!0}],"explode-out":[{fade:!0},{fade:!0,transform:"scale(1.25)"}],
"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}]},g={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};
G&&G.extend(G.fn,{swapper:function(c,e,f){c=G(c)[0];this.forEach(function(g){w(g,c,e,f)});return this}});m&&(m.fn.swapper=function(c,e,f){c=m(c)[0];this.each(function(){w(this,c,e,f)});return this});return w}(window,document,window.Zepto,window.jQuery),Clickable=function(t,l,G,m,x){function r(g,c){function e(){g.addEventListener("touchstart",k,!1);g.addEventListener("touchmove",y,!1);g.addEventListener("touchend",h,!1);g.addEventListener("touchcancel",y,!1)}function f(){g.removeEventListener("touchstart",
k);g.removeEventListener("touchmove",y);g.removeEventListener("touchend",h);g.removeEventListener("touchcancel",y)}function j(){var c=g,f;f=g.className.replace(i,"");f=String(f).replace(v,"");c.className=f}function m(f){n=!1;g.disabled?(f.preventDefault(),q=!1):(q=!0,g.className+=" "+c)}function o(c){c.preventDefault();n=q=!1;j()}function r(c){g.disabled?(c.preventDefault(),n=q=!1):(q?n=!0:(c.preventDefault(),n=!1),q=!1,j())}function k(){n=!1;if(g.disabled)q=!1;else{q=!0;var f=z=+new Date;setTimeout(function(){q&&
f===z&&(g.className+=" "+c)},E)}}function y(){q=n=!1;g.disabled||j()}function h(f){function e(){n=!0;var c=l.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,t,1,0,0,0,0,!1,!1,!1,!1,0,null);g.dispatchEvent(c)}var i=q;y();i&&!g.disabled&&(f.stopImmediatePropagation?+new Date-z>E?e():(g.className+=" "+c,setTimeout(function(){j();e()},1)):n=!0)}function u(c){c=c||t.event;if(!g.disabled&&n)n=!1;else return c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),c.stopPropagation(),
c.cancelBubble=!0,c.returnValue=!1}var p;a:if(g){try{p=g instanceof Node||g instanceof HTMLElement;break a}catch(x){}p="object"!==typeof g||"number"!==typeof g.nodeType||"string"!==typeof g.nodeName?!1:!0}else p=!1;if(!p)throw TypeError("element "+g+" must be a DOM element");if(!g._clickable){g._clickable=!0;switch(typeof c){case "undefined":c="active";case "string":break;default:throw TypeError("active class "+c+" must be a string");}var i=RegExp("\\b"+c+"\\b"),q=!1,n=!1,z;if(B.ios||B.android)if(g.style["-webkit-tap-highlight-color"]=
"rgba(255,255,255,0)",g.addEventListener("click",u,!1),B.ios){g.addEventListener("DOMNodeInsertedIntoDocument",e,!1);g.addEventListener("DOMNodeRemovedFromDocument",f,!1);a:{for(p=g;p=p.parentNode;)if(p===l){p=!0;break a}p=!1}p&&e()}else e();else g.addEventListener?(g.addEventListener("mousedown",m,!1),g.addEventListener("mousemove",o,!1),g.addEventListener("mouseout",o,!1),g.addEventListener("mouseup",r,!1),g.addEventListener("click",u,!1)):g.attachEvent&&(g.attachEvent("onmousedown",m),g.attachEvent("onmousemove",
o),g.attachEvent("onmouseout",o),g.attachEvent("onmouseup",r),g.attachEvent("onclick",u))}}var v=/^\s+|\s+$/g,E=40,B,C=t.navigator.userAgent,w,F,H;if(H=/\bCPU.*OS (\d+(_\d+)?)/i.exec(C))w="ios",F=H[1].replace("_",".");else if(H=/\bAndroid (\d+(\.\d+)?)/.exec(C))w="android",F=H[1];C={name:w,version:F&&t.parseFloat(F)};C[w]=!0;B=C;w=function(){r.apply(this,arguments)};G&&G.plugin("clickable",function(){r.apply(this,arguments)});m&&m.extend(m.fn,{clickable:function(g){this.forEach(function(c){r(c,g)});
return this}});x&&(x.fn.clickable=function(g){this.each(function(){r(this,g)});return this});w.touchable=function(){return B.ios||B.android};return w}(window,document,window.clik,window.Zepto,window.jQuery),Scrollable=function(t,l,G,m,x){function r(b){if(!b)return!1;try{return b instanceof Node||b instanceof HTMLElement}catch(a){}return"object"!==typeof b||"number"!==typeof b.nodeType||"string"!==typeof b.nodeName?!1:!0}function v(b,a,d){if(Array.prototype.forEach)Array.prototype.forEach.call(b,a,
d);else for(var s=0,c=b.length;s<c;s++)s in b&&a.call(d,b[s],s,b)}function E(b){H?setTimeout(b,0):F.push(b)}function B(b){try{l.documentElement.doScroll("left")}catch(a){setTimeout(function(){B(b)},1);return}b()}function C(b,a){function d(){var a=b._scrollTop(),d=b._scrollLeft();a===i&&d===q||(i=a,q=d,b.dispatchEvent&&(a=l.createEvent("MouseEvents"),a.initMouseEvent("scroll",!1,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(a)))}if(!r(b))throw b+" is not a DOM element";if(!b._scrollable){b._scrollable=
!0;b.style.overflow="scroll";b._scrollTop=function(a){if("undefined"===typeof a)return e?Math.max(parseInt(-e.y),0):b.scrollTop;!e&&(!o||g)?b.scrollTop=a:E(function(){e.scrollTo(e.x,Math.max(-a,0),1)})};b._scrollLeft=function(a){if("undefined"===typeof a)return e?Math.max(parseInt(-e.x),0):b.scrollLeft;!e&&(!o||g)?b.scrollLeft=a:E(function(){e.scrollTo(Math.max(-a,0),e.y,1)})};if(!a){if(!o)return;if(g){b.style["-webkit-overflow-scrolling"]="touch";return}}var s=l.createElement("div"),f=Array.prototype.slice.call(b.childNodes||
[]);v(f,function(a){a=b.removeChild(a);s.appendChild(a)});b.appendChild(s);var e,i,q;b._iScroll=!0;E(function(){e=new A(b,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,hScrollbar:!1,vScrollbar:!1,bounce:!!c.ios,onScrollMove:d,onBeforeScrollEnd:d,onScrollEnd:d})})}}function w(b){return r(b)&&b._iScroll?b.childNodes[0]:b}var F=[],H=!1,g=!1,c,e=navigator.userAgent,f,j,D;if(D=/\bCPU.*OS (\d+(_\d+)?)/i.exec(e))f="ios",j=D[1].replace("_",".");else if(D=/\bAndroid (\d+(\.\d+)?)/.exec(e))f="android",
j=D[1];e={name:f,version:j&&t.parseFloat(j)};e[f]=!0;c=e;var o=!!c.name,A;if(c.ios&&5<=c.version||c.android&&4<=c.version)g=!0;var k=t,y=l;f=function(b){if(""===u)return b;b=b.charAt(0).toUpperCase()+b.substr(1);return u+b};var h=Math,e=y.createElement("div").style,u;a:{j=["t","webkitT","MozT","msT","OT"];var p;D=0;for(var N=j.length;D<N;D++)if(p=j[D]+"ransform",p in e){u=j[D].substr(0,j[D].length-1);break a}u=!1}var i=u?"-"+u.toLowerCase()+"-":"",q=f("transform"),n=f("transitionProperty"),z=f("transitionDuration"),
da=f("transformOrigin"),ea=f("transitionTimingFunction"),J=f("transitionDelay"),M=/android/gi.test(navigator.appVersion),X=/iphone|ipad/gi.test(navigator.appVersion);j=/hp-tablet/gi.test(navigator.appVersion);var Y=f("perspective")in e,I="ontouchstart"in k&&!j,Z=!!u,fa=f("transition")in e,T="onorientationchange"in k?"orientationchange":"resize",U=I?"touchstart":"mousedown",P=I?"touchmove":"mousemove",Q=I?"touchend":"mouseup",R=I?"touchcancel":"mouseup",V="Moz"==u?"DOMMouseScroll":"mousewheel",L;L=
!1===u?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[u];var ga=k.requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||k.msRequestAnimationFrame||function(b){return setTimeout(b,1)},aa=k.cancelRequestAnimationFrame||k.webkitCancelAnimationFrame||k.webkitCancelRequestAnimationFrame||k.mozCancelRequestAnimationFrame||k.oCancelRequestAnimationFrame||k.msCancelRequestAnimationFrame||
clearTimeout,K=Y?" translateZ(0)":"";j=function(b,a){var d=this,s;d.wrapper="object"==typeof b?b:y.getElementById(b);d.wrapper.style.overflow="hidden";d.scroller=d.wrapper.children[0];d.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:M,hideScrollbar:X,fadeScrollbar:X&&Y,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",
snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(s in a)d.options[s]=a[s];d.x=d.options.x;d.y=d.options.y;d.options.useTransform=Z&&d.options.useTransform;d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar;d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar;d.options.zoom=
d.options.useTransform&&d.options.zoom;d.options.useTransition=fa&&d.options.useTransition;d.options.zoom&&M&&(K="");d.scroller.style[n]=d.options.useTransform?i+"transform":"top left";d.scroller.style[z]="0";d.scroller.style[da]="0 0";d.options.useTransition&&(d.scroller.style[ea]="cubic-bezier(0.33,0.66,0.66,1)");d.options.useTransform?d.scroller.style[q]="translate("+d.x+"px,"+d.y+"px)"+K:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px";d.options.useTransition&&(d.options.fixedScrollbar=
!0);d.refresh();d._bind(T,k);d._bind(U);I||(d._bind("mouseout",d.wrapper),"none"!=d.options.wheelAction&&d._bind(V));d.options.checkDOMChanges&&(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};j.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case U:if(!I&&0!==b.button)break;this._start(b);break;case P:this._move(b);break;case Q:case R:this._end(b);break;case T:this._resize();
break;case V:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case L:this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(a=y.createElement("div"),this.options.scrollbarClass?a.className=this.options.scrollbarClass+b.toUpperCase():a.style.cssText=
"position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),a.style.cssText+=";pointer-events:none;"+i+"transition-property:opacity;"+i+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(a),this[b+"ScrollbarWrapper"]=a,a=y.createElement("div"),this.options.scrollbarClass||(a.style.cssText=
"position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+i+"background-clip:padding-box;"+i+"box-sizing:border-box;"+("h"==b?"height:100%":"width:100%")+";"+i+"border-radius:3px;border-radius:3px"),a.style.cssText+=";pointer-events:none;"+i+"transition-property:"+i+"transform;"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+i+"transition-duration:0;"+i+"transform: translate(0,0)"+K,this.options.useTransition&&(a.style.cssText+=";"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),
this[b+"ScrollbarWrapper"].appendChild(a),this[b+"ScrollbarIndicator"]=a),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=h.max(h.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,
this.vScrollbarIndicatorSize=h.max(h.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(Z&&(this[b+"ScrollbarIndicator"].style[q]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=
null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},M?200:0)},_pos:function(b,a){this.zoomed||(b=this.hScroll?b:0,a=this.vScroll?a:0,this.options.useTransform?this.scroller.style[q]="translate("+b+"px,"+a+"px) scale("+this.scale+")"+K:(b=h.round(b),a=h.round(a),this.scroller.style.left=b+"px",this.scroller.style.top=a+"px"),this.x=b,this.y=a,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(b,a){var d="h"==b?this.x:this.y;
this[b+"Scrollbar"]&&(d*=this[b+"ScrollbarProp"],0>d?(this.options.fixedScrollbar||(d=this[b+"ScrollbarIndicatorSize"]+h.round(3*d),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px"),d=0):d>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?d=this[b+"ScrollbarMaxScroll"]:(d=this[b+"ScrollbarIndicatorSize"]-h.round(3*(d-this[b+"ScrollbarMaxScroll"])),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px",d=this[b+"ScrollbarMaxScroll"]+(this[b+
"ScrollbarIndicatorSize"]-d))),this[b+"ScrollbarWrapper"].style[J]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[q]="translate("+("h"==b?d+"px,0)":"0,"+d+"px)")+K)},_start:function(b){var a=I?b.touches[0]:b,d,s;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=
this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&I&&1<b.touches.length&&(s=h.abs(b.touches[0].pageX-b.touches[1].pageX),d=h.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=h.sqrt(s*s+d*d),this.originX=h.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=h.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&
(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[q].replace(/[^0-9\-.,]/g,"").split(","),s=1*d[4],d=1*d[5]):(s=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),s!=this.x||d!=this.y))this.options.useTransition?this._unbind(L):aa(this.aniTime),this.steps=[],this._pos(s,d);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=
b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(P);this._bind(Q);this._bind(R)}},_move:function(b){var a=I?b.touches[0]:b,d=a.pageX-this.pointX,s=a.pageY-this.pointY,c=this.x+d,e=this.y+s,f=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&I&&1<b.touches.length)c=h.abs(b.touches[0].pageX-b.touches[1].pageX),e=h.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=
h.sqrt(c*c+e*e),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,c=this.originX-this.originX*this.lastScale+this.x,e=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[q]="translate("+c+"px,"+e+"px) scale("+a+")"+K,this.options.onZoom&&this.options.onZoom.call(this,
b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<c||c<this.maxScrollX)c=this.options.bounce?this.x+d/2:0<=c||0<=this.maxScrollX?0:this.maxScrollX;if(e>this.minScrollY||e<this.maxScrollY)e=this.options.bounce?this.y+s/2:e>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=d;this.distY+=s;this.absDistX=h.abs(this.distX);this.absDistY=h.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(e=this.y,s=0):this.absDistY>
this.absDistX+5&&(c=this.x,d=0)),this.moved=!0,this._pos(c,e),this.dirX=0<d?-1:0>d?1:0,this.dirY=0<s?-1:0>s?1:0,300<f-this.startTime&&(this.startTime=f,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(I&&0!==b.touches.length)){var a=this,d=I?b.changedTouches[0]:b,c,e,f={dist:0,time:0},i={dist:0,time:0},g=(b.timeStamp||Date.now())-a.startTime,n=a.x,l=a.y;a._unbind(P);a._unbind(Q);a._unbind(R);a.options.onBeforeScrollEnd&&
a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)n=a.scale*a.lastScale,n=Math.max(a.options.zoomMin,n),n=Math.min(a.options.zoomMax,n),a.lastScale=n/a.scale,a.scale=n,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[z]="200ms",a.scroller.style[q]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+K,a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(300>g&&a.options.momentum){f=n?a._momentum(n-a.startX,g,
-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):f;i=l?a._momentum(l-a.startY,g,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?a.wrapperH:0):i;n=a.x+f.dist;l=a.y+i.dist;if(0<a.x&&0<n||a.x<a.maxScrollX&&n<a.maxScrollX)f={dist:0,time:0};if(a.y>a.minScrollY&&l>a.minScrollY||a.y<a.maxScrollY&&l<a.maxScrollY)i={dist:0,time:0}}f.dist||i.dist?(f=h.max(h.max(f.time,i.time),10),a.options.snap&&(i=n-a.absStartX,g=l-a.absStartY,h.abs(i)<a.options.snapThreshold&&
h.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(i=a._snap(n,l),n=i.x,l=i.y,f=h.max(i.time,f))),a.scrollTo(h.round(n),h.round(l),f)):a.options.snap?(i=n-a.absStartX,g=l-a.absStartY,h.abs(i)<a.options.snapThreshold&&h.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(i=a._snap(a.x,a.y),(i.x!=a.x||i.y!=a.y)&&a.scrollTo(i.x,i.y,i.time))):a._resetPos(200)}else I&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&
a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,b)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(c=d.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(e=y.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,b.view,1,d.screenX,d.screenY,d.clientX,d.clientY,b.ctrlKey,b.altKey,
b.shiftKey,b.metaKey,0,null),e._fake=!0,c.dispatchEvent(e))},a.options.zoom?250:0))),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&d==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&
("webkit"==u&&(this.hScrollbarWrapper.style[J]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==u&&(this.vScrollbarWrapper.style[J]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,d,b||0)},_wheel:function(b){var a=this,d,c;if("wheelDeltaX"in b)d=b.wheelDeltaX/12,c=b.wheelDeltaY/12;else if("wheelDelta"in b)d=c=b.wheelDelta/12;else if("detail"in b)d=c=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(c=a.scale*
Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<a.options.zoomMin&&(c=a.options.zoomMin),c>a.options.zoomMax&&(c=a.options.zoomMax),c!=a.scale)!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,c,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else d=a.x+d,c=a.y+c,0<d?d=0:d<a.maxScrollX&&(d=a.maxScrollX),c>a.minScrollY?c=a.minScrollY:c<a.maxScrollY&&(c=a.maxScrollY),0>a.maxScrollY&&
a.scrollTo(d,c,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind(L),this._startAni())},_startAni:function(){var b=this,a=b.x,d=b.y,c=Date.now(),e,f,i;b.animating||(b.steps.length?(e=b.steps.shift(),e.x==a&&e.y==d&&(e.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(e.time),b._pos(e.x,e.y),b.animating=!1,e.time?b._bind(L):b._resetPos(0)):(i=
function(){var g=Date.now(),q;g>=c+e.time?(b._pos(e.x,e.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(g=(g-c)/e.time-1,f=h.sqrt(1-g*g),g=(e.x-a)*f+a,q=(e.y-d)*f+d,b._pos(g,q),b.animating&&(b.aniTime=ga(i)))},i()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[z]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[z]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[z]=b)},_momentum:function(b,a,d,c,e){var a=h.abs(b)/a,f=a*
a/0.0012;0<b&&f>d?(d+=e/(6/(6E-4*(f/a))),a=a*d/f,f=d):0>b&&f>c&&(c+=e/(6/(6E-4*(f/a))),a=a*c/f,f=c);return{dist:f*(0>b?-1:1),time:h.round(a/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,d=-b.offsetTop;b=b.offsetParent;)a-=b.offsetLeft,d-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,d*=this.scale);return{left:a,top:d}},_snap:function(b,a){var d,c,e;e=this.pagesX.length-1;d=0;for(c=this.pagesX.length;d<c;d++)if(b>=this.pagesX[d]){e=d;break}e==this.currPageX&&0<e&&0>this.dirX&&e--;b=this.pagesX[e];
c=(c=h.abs(b-this.pagesX[this.currPageX]))?500*(h.abs(this.x-b)/c):0;this.currPageX=e;e=this.pagesY.length-1;for(d=0;d<e;d++)if(a>=this.pagesY[d]){e=d;break}e==this.currPageY&&0<e&&0>this.dirY&&e--;a=this.pagesY[e];d=(d=h.abs(a-this.pagesY[this.currPageY]))?500*(h.abs(this.y-a)/d):0;this.currPageY=e;e=h.round(h.max(c,d))||200;return{x:b,y:a,time:e}},_bind:function(b,a,d){(a||this.scroller).addEventListener(b,this,!!d)},_unbind:function(b,a,d){(a||this.scroller).removeEventListener(b,this,!!d)},destroy:function(){this.scroller.style[q]=
"";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(T,k);this._unbind(U);this._unbind(P);this._unbind(Q);this._unbind(R);this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(V));this.options.useTransition&&this._unbind(L);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,a,d,c=0;a=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);
this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=h.round(this.scroller.offsetWidth*this.scale);this.scrollerH=h.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];d=this.scroller.querySelectorAll(this.options.snap);b=0;for(a=d.length;b<a;b++)c=this._offset(d[b]),
c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[b]=c.left<this.maxScrollX?this.maxScrollX:c.left*this.scale,this.pagesY[b]=c.top<this.maxScrollY?this.maxScrollY:c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[a]=c,c-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);a=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[a]=
c,c-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[z]="0",this._resetPos(200))},scrollTo:function(b,a,d,c){var e=b;this.stop();e.length||(e=[{x:b,y:a,time:d,relative:c}]);b=0;for(a=e.length;b<a;b++)e[b].relative&&(e[b].x=this.x-e[b].x,e[b].y=this.y-e[b].y),this.steps.push({x:e[b].x,y:e[b].y,time:e[b].time||
0});this._startAni()},scrollToElement:function(b,a){var d;if(b=b.nodeType?b:this.scroller.querySelector(b))d=this._offset(b),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=d.top>this.minScrollY?this.minScrollY:d.top<this.maxScrollY?this.maxScrollY:d.top,a=void 0===a?h.max(2*h.abs(d.left),2*h.abs(d.top)):a,this.scrollTo(d.left,d.top,a)},scrollToPage:function(b,a,d){d=void 0===d?400:d;this.options.onScrollStart&&this.options.onScrollStart.call(this);
if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY)a=this.maxScrollY;this.scrollTo(b,a,d)},disable:function(){this.stop();this._resetPos(0);
this.enabled=!1;this._unbind(P);this._unbind(Q);this._unbind(R)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(L):aa(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,d,c){var e=d/this.scale;this.options.useTransform&&(this.zoomed=!0,c=void 0===c?200:c,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*e+this.x,this.y=a-a*e+this.y,this.scale=d,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:
this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[z]=c+"ms",this.scroller.style[q]="translate("+this.x+"px,"+this.y+"px) scale("+d+")"+K,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};e=null;A=j;var O=function(){H||(H=!0,v(F,function(b){setTimeout(b,0)}))};if("complete"===l.readyState)setTimeout(O,0);else if(l.addEventListener)l.addEventListener("DOMContentLoaded",O,!1),t.addEventListener("load",
O,!1);else if(l.attachEvent){l.attachEvent("onreadystatechange",O);t.attachEvent("onload",O);p=!1;try{p=null===t.frameElement}catch(ha){}l.documentElement.doScroll&&p&&setTimeout(function(){B(O)},0)}p=function(){C.apply(this,arguments)};f=function(){C.apply(this,arguments)};G&&(f.node=function(){return w.apply(this,arguments)},G.plugin("scrollable",f));if(m){m.extend(m.fn,{scrollable:function(b){this.forEach(function(a){C(a,b)});return this},scrollableNode:function(){return $(this.map(function(){return w(this)}))}});
var S=m.fn.scrollTop,W=m.fn.scrollLeft;m.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0],d=r(a);return d&&a._scrollTop?a._scrollTop():S?S.apply(this,arguments):d?a.scrollTop:null}this.forEach(function(a){var d=r(a);d&&a._scrollTop?a._scrollTop(b):S?S.call(m(a),b):d&&(a.scrollTop=b)});return this};m.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0],d=r(a);return d&&a._scrollLeft?a._scrollLeft():S?W.apply(this,arguments):d?a.scrollLeft:null}this.forEach(function(a){var d=
r(a);d&&a._scrollLeft?a._scrollLeft(b):W?W.call(m(a),b):d&&(a.scrollLeft=b)});return this}}if(x){x.fn.scrollable=function(b){this.each(function(){C(this,b)});return this};x.fn.scrollableNode=function(){return $(this.map(function(){return w(this)}))};var ba=x.fn.scrollTop,ca=x.fn.scrollLeft;x.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0];return r(a)&&a._scrollTop?a._scrollTop():ba.apply(this,arguments)}this.each(function(){r(this)&&this._scrollTop?this._scrollTop(b):ba.call(x(this),
b)});return this};x.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0];return r(a)&&a._scrollLeft?a._scrollLeft():ca.apply(this,arguments)}this.each(function(){r(this)&&this._scrollLeft?this._scrollLeft(b):ca.call(x(this),b)});return this}}p.node=function(){return w.apply(this,arguments)};return p}(window,document,window.clik,window.Zepto,window.jQuery);
(function(t,l){function G(i,q,n,z){if(k)A.push(["load",i,q,n,z]);else{k=!0;if(!p){for(var m=l.getElementsByClassName(B),t,J,M=m.length;M--;)t=m[M],J=t.getAttribute(C),"string"===typeof J&&0!==J.length&&(t.parentNode.removeChild(t),j[J]=t.cloneNode(!0));/\bCPU.*OS (\d+(_\d+)?)/i.test(navigator.userAgent)?(l.body.className+=" "+w,y="ios"):/\bAndroid (\d+(\.\d+)?)/.test(navigator.userAgent)&&(l.body.className+=" "+F,y="android");h="android"===y?c:g;u=e[h];l.body.className+=" "+H}if(!(i in j))throw TypeError(i+
" is not a known page");var v=j[i].cloneNode(!0),m=D[i]||[];E(v);Array.prototype.forEach.call(v.querySelectorAll(".app-button"),function(c){Clickable(c);c.getAttribute("data-back")&&c.addEventListener("click",function(){f.back()},!1)});Array.prototype.forEach.call(v.querySelectorAll(".app-content"),function(c){Scrollable(c)});m.forEach(function(c){c(v,q)});p?r(v,n,function(){k=!1;setTimeout(x,0);z()}):(l.body.appendChild(v),k=!1);p=i;N=v;o.push([i,v,n])}}function m(c,e){if(k)A.push(["back",c,e]);
else{k=!0;if(2>o.length)throw Error("navigation stack is empty");o.pop();var f=o[o.length-1],g=f[0],f=f[1];r(f,c,function(){k=!1;setTimeout(x,0);e()},!0);p=g;N=f}}function x(){if(0!==A.length){var c=A.shift();switch(c.shift()){case "load":G.apply(t,c);break;case "back":m.apply(t,c)}}}function r(c,f,g,z){function m(){l.body.removeChild(o);g()}function j(){--E||(F(),G(),H(),k.appendChild(p),c.appendChild(A),Swapper(k,c,"instant"),m())}var o=l.createElement("div");o.className="app-clickblocker";l.body.appendChild(o);
var k=N;if(f.transition)f.transition=e[f.transition]||f.transition,Swapper(k,c,f,m);else if(f.transition=z?u:h,"android"===y)Swapper(k,c,f,m);else{var z=k.querySelector(".app-topbar"),p=k.querySelector(".app-content"),r=k.querySelector(".app-topbar .app-title"),t=k.querySelector(".app-topbar .left.app-button"),x=k.querySelector(".app-topbar .right.app-button"),w=c.querySelector(".app-topbar"),A=c.querySelector(".app-content"),B=c.querySelector(".app-topbar .app-title"),C=c.querySelector(".app-topbar .left.app-button"),
D=c.querySelector(".app-topbar .right.app-button");if(!z||!w||!p||!A)Swapper(k,c,f,m);else{var E=4,F=v(z,w,r,B,f,j),G=v(z,w,t,C,f,j),H=v(z,w,x,D,f,j);Swapper(p,A,f,j)}}}function v(c,e,f,g,h,k){var m=function(){};if(f&&g)Swapper(f,g,{easing:h.easing,duration:h.duration,transition:"fade"},k),m=function(){c.appendChild(f);e.appendChild(g)};else if(f){var j=l.createElement("div");j.className=f.className;j.innerHTML=f.innerHTML;j.style.visibility="hidden";Swapper(f,j,{easing:h.easing,duration:h.duration,
transition:"fade"},k);m=function(){c.removeChild(j);c.appendChild(f)}}else g?(j=l.createElement("div"),j.className=g.className,j.innerHTML=g.innerHTML,j.style.visibility="hidden",c.appendChild(j),Swapper(j,g,{easing:h.easing,duration:h.duration,transition:"fade"},k),m=function(){e.appendChild(g)}):setTimeout(k,0);return m}function E(c){var e=c.querySelector(".app-topbar");if(c=c.querySelector(".app-content")){var f=t.innerHeight;if(e){var e=l.defaultView.getComputedStyle(e,null),g="android"===y?48:
44;e.height&&(g=parseInt(e.height)||0);c.style.height=f-g+"px"}else c.style.height=f+"px"}}var B="app-page",C="data-page",w="app-ios",F="app-android",H="app-loaded",g="slide-left",c="explode-in",e={fade:"fade","scale-in":"slice-out","scale-out":"slice-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","slide-left":"slide-right","slide-right":"slide-left",
"slide-up":"slide-down","slide-down":"slide-up"},f={},j={},D={},o=[],A=[],k=!1,y,h,u,p,N;f.current=function(){return p};f.populator=function(c,e){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);if("function"!==typeof e)throw TypeError("page populator must be a function, got "+e);D[c]?D[c].push(e):D[c]=[e]};f.load=function(c,e,f,g){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);switch(typeof e){case "function":g=e;e={};f={};break;case "undefined":e=
{};break;case "string":f=e;e={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+e);}switch(typeof f){case "function":g=f;f={};break;case "undefined":f={};break;case "string":f={transition:f};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+f);}switch(typeof g){case "undefined":g=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+g);}G(c,e,
f,g)};f.back=function(c,e){switch(typeof c){case "function":e=c;c={};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+c);}switch(typeof e){case "undefined":e=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+e);}m(c,e)};t.addEventListener("resize",function(){E(N)});t.App=f})(window,document);
