/**
 * App.js v1.0
 * Instant mobile web app creation
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * swapper.js beta
 * UI navigation and transition utility
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * clickable.js v1.0
 * Seamless buttons for mobile devices
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * scrollable.js v1.0
 * Seamless scrolling for mobile devices
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * iScroll v4.1.6
 * Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under the MIT license
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
var Swapper=function(t,n,H,p){function z(d,f){var c=f.parentNode;c.lastchild===f?c.appendChild(d):c.insertBefore(d,f.nextSibling)}function r(d){d.parentNode&&d.parentNode.removeChild(d)}function B(d,f){d.style["-webkit-transform"]=f;d.style["-moz-transform"]=f;d.style["-ms-transform"]=f;d.style["-o-transform"]=f;d.style.transform=f}function I(d,f){f?(d.style["-webkit-transition"]="-webkit-"+f,d.style["-moz-transition"]="-moz-"+f,d.style["-ms-transition"]="-ms-"+f,d.style["-o-transition"]="-o-"+f,
d.style.transition=f):(d.style["-webkit-transition"]="",d.style["-moz-transition"]="",d.style["-ms-transition"]="",d.style["-o-transition"]="",d.style.transition="")}function D(d,f){var c;c=f?d.style:n.defaultView.getComputedStyle(d,null);return{display:c.display,opacity:c.opacity,top:c.top,left:c.left,height:c.height,width:c.width,position:c.position}}function F(d){var c;a:if(d){try{c=d instanceof Node||d instanceof HTMLElement;break a}catch(g){}c="object"!==typeof d||"number"!==typeof d.nodeType||
"string"!==typeof d.nodeName?!1:!0}else c=!1;if(!c)throw TypeError("element must be a DOM node, got "+d);}function G(d,f,g,h){function u(){r(d);I(d,"");I(f,"");setTimeout(function(){B(d,"");B(f,"");v[0].fade&&(f.style.opacity=o.opacity);v[1].fade&&(d.style.opacity=i.opacity);f.style.position=o.position;f.style.top=o.top;f.style.left=o.left;f.style.height=o.height;f.style.width=o.width;d._swapper=!1;f._swapper=!1;h()},0)}F(d);F(f);"function"===typeof g&&(h=g,g={});switch(typeof g){case "string":g=
{transition:g};break;case "undefined":g={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+g);}switch(typeof g.transition){case "string":if(!(g.transition in K)&&"instant"!==g.transition)throw TypeError(g.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+g.transition);}switch(typeof g.duration){case "number":if(0>g.duration)throw TypeError("duration must be a non-negative integer, got "+
g.duration);break;case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+g.duration);}switch(typeof g.easing){case "string":if(!(g.easing in c))throw TypeError(g.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+g.easing);}var m=h;switch(typeof m){case "undefined":m=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+m);}h=m;if(d._swapper)throw Error("elem1 is currently being swapped");
if(f._swapper)throw Error("elem2 is currently being swapped");a:{for(m=d;m=m.parentNode;)if(m===n){m=!0;break a}m=!1}if(!m)throw Error("elem1 must be in the DOM to be swapped");d._swapper=!0;f._swapper=!0;r(f);if("instant"===g.transition)z(f,d),r(d),d._swapper=!1,f._swapper=!1,setTimeout(function(){h()},0);else{var v=K[g.transition||"fade"],p=c[g.easing||"ease-in-out"],l=g.duration||300;z(f,d);var g=d.getBoundingClientRect(),m=D(d),C=D(f),i=D(d,!0),o=D(f,!0);"none"!==m.display&&(f.style.position=
"fixed",f.style.top=g.top+"px",f.style.left=g.left+"px");f.style.height=C.height||m.height;f.style.width=C.width||m.width;B(d,E);B(f,v[0].transform||E);v[0].fade&&(f.style.opacity="0");v[1].fade&&(d.style.opacity="1");setTimeout(function(){var c="transform "+l/1E3+"s "+p+", opacity "+l/1E3+"s "+p;I(d,c);I(f,c);setTimeout(function(){B(d,v[1].transform||E);B(f,E);v[0].fade&&(f.style.opacity="1");v[1].fade&&(d.style.opacity="0");setTimeout(u,l)},0)},0)}}var E="translate3d(0,0,0)",K={fade:[{fade:!0},
{fade:!0}],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{fade:!0},{transform:"scale(0.01)"}],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],
"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},
{}],"explode-out":[{fade:!0},{transform:"scale(1.25)"}],"implode-in":[{fade:!0},{transform:"scale(0.60)"}],"implode-out":[{fade:!0,transform:"scale(0.70)"},{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}]},
c={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};H&&H.extend(H.fn,{swapper:function(c,f,g){c=H(c)[0];this.forEach(function(h){G(h,c,f,g)});return this}});p&&(p.fn.swapper=function(c,f,g){c=p(c)[0];this.each(function(){G(this,c,f,g)});return this});return G}(window,document,window.Zepto,window.jQuery),Clickable=function(t,n,H,p,z){function r(c,d){function f(){c.addEventListener("touchstart",l,!1);c.addEventListener("touchmove",
C,!1);c.addEventListener("touchend",i,!1);c.addEventListener("touchcancel",C,!1)}function g(){c.removeEventListener("touchstart",l);c.removeEventListener("touchmove",C);c.removeEventListener("touchend",i);c.removeEventListener("touchcancel",C)}function h(){var j=c,d;d=c.className.replace(A,"");d=String(d).replace(B,"");j.className=d}function p(c,d){do{if(c===d)return!0;if(c._clickable)break}while(c=c.parentNode);return!1}function m(f){k=!1;c.disabled||!p(f.target,c)?(f.preventDefault(),j=!1):(j=!0,
c.className+=" "+d)}function v(c){c.preventDefault();k=j=!1;h()}function r(d){c.disabled?(d.preventDefault(),k=j=!1):(j?k=!0:(d.preventDefault(),k=!1),j=!1,h())}function l(f){k=!1;if(c.disabled||!p(f.target,c))j=!1;else{j=!0;var i=J=+new Date;setTimeout(function(){j&&i===J&&(c.className+=" "+d)},I)}}function C(){j=k=!1;c.disabled||h()}function i(f){function i(){k=!0;var d=n.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,t,1,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(d)}var g=j;C();g&&
!c.disabled&&(f.stopImmediatePropagation?+new Date-J>I?i():(c.className+=" "+d,setTimeout(function(){h();i()},1)):k=!0)}function o(d){d=d||t.event;if(!c.disabled&&k)k=!1;else return d.stopImmediatePropagation&&d.stopImmediatePropagation(),d.preventDefault(),d.stopPropagation(),d.cancelBubble=!0,d.returnValue=!1}var w;a:if(c){try{w=c instanceof Node||c instanceof HTMLElement;break a}catch(z){}w="object"!==typeof c||"number"!==typeof c.nodeType||"string"!==typeof c.nodeName?!1:!0}else w=!1;if(!w)throw TypeError("element "+
c+" must be a DOM element");if(!c._clickable){c._clickable=!0;switch(typeof d){case "undefined":d="active";case "string":break;default:throw TypeError("active class "+d+" must be a string");}var A=RegExp("\\b"+d+"\\b"),j=!1,k=!1,J;if(D.ios||D.android)if(c.style["-webkit-tap-highlight-color"]="rgba(255,255,255,0)",c.addEventListener("click",o,!1),D.ios){c.addEventListener("DOMNodeInsertedIntoDocument",f,!1);c.addEventListener("DOMNodeRemovedFromDocument",g,!1);a:{for(w=c;w=w.parentNode;)if(w===n){w=
!0;break a}w=!1}w&&f()}else f();else c.addEventListener?(c.addEventListener("mousedown",m,!1),c.addEventListener("mousemove",v,!1),c.addEventListener("mouseout",v,!1),c.addEventListener("mouseup",r,!1),c.addEventListener("click",o,!1)):c.attachEvent&&(c.attachEvent("onmousedown",m),c.attachEvent("onmousemove",v),c.attachEvent("onmouseout",v),c.attachEvent("onmouseup",r),c.attachEvent("onclick",o))}}var B=/^\s+|\s+$/g,I=40,D,F=t.navigator.userAgent,G,E,K;if(K=/\bCPU.*OS (\d+(_\d+)?)/i.exec(F))G="ios",
E=K[1].replace("_",".");else if(K=/\bAndroid (\d+(\.\d+)?)/.exec(F))G="android",E=K[1];F={name:G,version:E&&t.parseFloat(E)};F[G]=!0;D=F;G=function(){r.apply(this,arguments)};H&&H.plugin("clickable",function(){r.apply(this,arguments)});p&&p.extend(p.fn,{clickable:function(c){this.forEach(function(d){r(d,c)});return this}});z&&(z.fn.clickable=function(c){this.each(function(){r(this,c)});return this});G.touchable=function(){return D.ios||D.android};return G}(window,document,window.clik,window.Zepto,
window.jQuery),Scrollable=function(t,n,H,p,z){function r(b){if(!b)return!1;try{return b instanceof Node||b instanceof HTMLElement}catch(a){}return"object"!==typeof b||"number"!==typeof b.nodeType||"string"!==typeof b.nodeName?!1:!0}function B(b,a,e){if(Array.prototype.forEach)Array.prototype.forEach.call(b,a,e);else for(var s=0,c=b.length;s<c;s++)s in b&&a.call(e,b[s],s,b)}function I(b){c?setTimeout(b,0):K.push(b)}function D(b){try{n.documentElement.doScroll("left")}catch(a){setTimeout(function(){D(b)},
1);return}b()}function F(b,a){function e(){var a=b._scrollTop(),e=b._scrollLeft();a===k&&e===i||(k=a,i=e,b.dispatchEvent&&(a=n.createEvent("MouseEvents"),a.initMouseEvent("scroll",!1,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(a)))}if(!r(b))throw b+" is not a DOM element";if(!b._scrollable){b._scrollable=!0;b.style.overflow="scroll";b._scrollTop=function(a){if("undefined"===typeof a)return j?Math.max(parseInt(-j.y),0):b.scrollTop;!j&&(!v||d)?b.scrollTop=a:I(function(){j.scrollTo(j.x,Math.max(-a,
0),1)})};b._scrollLeft=function(a){if("undefined"===typeof a)return j?Math.max(parseInt(-j.x),0):b.scrollLeft;!j&&(!v||d)?b.scrollLeft=a:I(function(){j.scrollTo(Math.max(-a,0),j.y,1)})};if(!a){if(!v)return;if(d){b.style["-webkit-overflow-scrolling"]="touch";return}}var s=n.createElement("div"),c=Array.prototype.slice.call(b.childNodes||[]);B(c,function(a){a=b.removeChild(a);s.appendChild(a)});b.appendChild(s);var j,k,i;b._iScroll=!0;I(function(){j=new O(b,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,
hScrollbar:!1,vScrollbar:!1,bounce:!!f.ios,onScrollMove:e,onBeforeScrollEnd:e,onScrollEnd:e,onBeforeScrollStart:G})})}}function G(b){for(var a=b.target;1!==a.nodeType;)a=a.parentNode;"SELECT"!==a.tagName&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&b.preventDefault()}function E(b){return r(b)&&b._iScroll?b.childNodes[0]:b}var K=[],c=!1,d=!1,f,g=navigator.userAgent,h,u,m;if(m=/\bCPU.*OS (\d+(_\d+)?)/i.exec(g))h="ios",u=m[1].replace("_",".");else if(m=/\bAndroid (\d+(\.\d+)?)/.exec(g))h="android",
u=m[1];g={name:h,version:u&&t.parseFloat(u)};g[h]=!0;f=g;var v=!!f.name,O;if(f.ios&&5<=f.version||f.android&&4<=f.version)d=!0;var l=t,C=n;h=function(b){if(""===o)return b;b=b.charAt(0).toUpperCase()+b.substr(1);return o+b};var i=Math,g=C.createElement("div").style,o;a:{u=["t","webkitT","MozT","msT","OT"];var w;m=0;for(var P=u.length;m<P;m++)if(w=u[m]+"ransform",w in g){o=u[m].substr(0,u[m].length-1);break a}o=!1}var A=o?"-"+o.toLowerCase()+"-":"",j=h("transform"),k=h("transitionProperty"),J=h("transitionDuration"),
x=h("transformOrigin"),fa=h("transitionTimingFunction"),L=h("transitionDelay"),M=/android/gi.test(navigator.appVersion),y=/iphone|ipad/gi.test(navigator.appVersion);u=/hp-tablet/gi.test(navigator.appVersion);var aa=h("perspective")in g,q="ontouchstart"in l&&!u,ba=!!o,ga=h("transition")in g,W="onorientationchange"in l?"orientationchange":"resize",X=q?"touchstart":"mousedown",S=q?"touchmove":"mousemove",T=q?"touchend":"mouseup",U=q?"touchcancel":"mouseup",Y="Moz"==o?"DOMMouseScroll":"mousewheel",Q;
Q=!1===o?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[o];var ha=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(b){return setTimeout(b,1)},ca=l.cancelRequestAnimationFrame||l.webkitCancelAnimationFrame||l.webkitCancelRequestAnimationFrame||l.mozCancelRequestAnimationFrame||l.oCancelRequestAnimationFrame||l.msCancelRequestAnimationFrame||
clearTimeout,N=aa?" translateZ(0)":"";u=function(b,a){var e=this,s;e.wrapper="object"==typeof b?b:C.getElementById(b);e.wrapper.style.overflow="hidden";e.scroller=e.wrapper.children[0];e.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:M,hideScrollbar:y,fadeScrollbar:y&&aa,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,
wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(s in a)e.options[s]=a[s];e.x=e.options.x;e.y=e.options.y;e.options.useTransform=ba&&e.options.useTransform;e.options.hScrollbar=e.options.hScroll&&e.options.hScrollbar;e.options.vScrollbar=e.options.vScroll&&
e.options.vScrollbar;e.options.zoom=e.options.useTransform&&e.options.zoom;e.options.useTransition=ga&&e.options.useTransition;e.options.zoom&&M&&(N="");e.scroller.style[k]=e.options.useTransform?A+"transform":"top left";e.scroller.style[J]="0";e.scroller.style[x]="0 0";e.options.useTransition&&(e.scroller.style[fa]="cubic-bezier(0.33,0.66,0.66,1)");e.options.useTransform?e.scroller.style[j]="translate("+e.x+"px,"+e.y+"px)"+N:e.scroller.style.cssText+=";position:absolute;top:"+e.y+"px;left:"+e.x+
"px";e.options.useTransition&&(e.options.fixedScrollbar=!0);e.refresh();e._bind(W,l);e._bind(X);q||(e._bind("mouseout",e.wrapper),"none"!=e.options.wheelAction&&e._bind(Y));e.options.checkDOMChanges&&(e.checkDOMTime=setInterval(function(){e._checkDOMChanges()},500))};u.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case X:if(!q&&0!==b.button)break;this._start(b);break;case S:this._move(b);
break;case T:case U:this._end(b);break;case W:this._resize();break;case Y:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case Q:this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(a=C.createElement("div"),this.options.scrollbarClass?a.className=
this.options.scrollbarClass+b.toUpperCase():a.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),a.style.cssText+=";pointer-events:none;"+A+"transition-property:opacity;"+A+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(a),this[b+"ScrollbarWrapper"]=
a,a=C.createElement("div"),this.options.scrollbarClass||(a.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+A+"background-clip:padding-box;"+A+"box-sizing:border-box;"+("h"==b?"height:100%":"width:100%")+";"+A+"border-radius:3px;border-radius:3px"),a.style.cssText+=";pointer-events:none;"+A+"transition-property:"+A+"transform;"+A+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+A+"transition-duration:0;"+A+"transform: translate(0,0)"+
N,this.options.useTransition&&(a.style.cssText+=";"+A+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(a),this[b+"ScrollbarIndicator"]=a),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=i.max(i.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=
this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=i.max(i.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(ba&&(this[b+"ScrollbarIndicator"].style[j]=
""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},M?200:0)},_pos:function(b,a){this.zoomed||(b=this.hScroll?b:0,a=this.vScroll?a:0,this.options.useTransform?this.scroller.style[j]="translate("+b+"px,"+a+"px) scale("+this.scale+")"+N:(b=i.round(b),a=i.round(a),this.scroller.style.left=b+"px",this.scroller.style.top=a+"px"),this.x=b,this.y=
a,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(b,a){var e="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(e*=this[b+"ScrollbarProp"],0>e?(this.options.fixedScrollbar||(e=this[b+"ScrollbarIndicatorSize"]+i.round(3*e),8>e&&(e=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=e+"px"),e=0):e>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?e=this[b+"ScrollbarMaxScroll"]:(e=this[b+"ScrollbarIndicatorSize"]-i.round(3*(e-this[b+"ScrollbarMaxScroll"])),8>e&&(e=
8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=e+"px",e=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-e))),this[b+"ScrollbarWrapper"].style[L]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[j]="translate("+("h"==b?e+"px,0)":"0,"+e+"px)")+N)},_start:function(b){var a=q?b.touches[0]:b,e,s;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||
this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&q&&1<b.touches.length&&(s=i.abs(b.touches[0].pageX-b.touches[1].pageX),e=i.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=i.sqrt(s*s+e*e),this.originX=i.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=i.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/
2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&(this.options.useTransform?(e=getComputedStyle(this.scroller,null)[j].replace(/[^0-9\-.,]/g,"").split(","),s=1*e[4],e=1*e[5]):(s=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),e=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),s!=this.x||e!=this.y))this.options.useTransition?this._unbind(Q):ca(this.aniTime),this.steps=[],this._pos(s,e);this.absStartX=this.x;this.absStartY=
this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(S);this._bind(T);this._bind(U)}},_move:function(b){var a=q?b.touches[0]:b,e=a.pageX-this.pointX,s=a.pageY-this.pointY,c=this.x+e,d=this.y+s,f=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&q&&1<b.touches.length)c=i.abs(b.touches[0].pageX-
b.touches[1].pageX),d=i.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=i.sqrt(c*c+d*d),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,c=this.originX-this.originX*this.lastScale+this.x,d=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[j]="translate("+
c+"px,"+d+"px) scale("+a+")"+N,this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<c||c<this.maxScrollX)c=this.options.bounce?this.x+e/2:0<=c||0<=this.maxScrollX?0:this.maxScrollX;if(d>this.minScrollY||d<this.maxScrollY)d=this.options.bounce?this.y+s/2:d>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=e;this.distY+=s;this.absDistX=i.abs(this.distX);this.absDistY=i.abs(this.distY);6>this.absDistX&&6>this.absDistY||
(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(d=this.y,s=0):this.absDistY>this.absDistX+5&&(c=this.x,e=0)),this.moved=!0,this._pos(c,d),this.dirX=0<e?-1:0>e?1:0,this.dirY=0<s?-1:0>s?1:0,300<f-this.startTime&&(this.startTime=f,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(q&&0!==b.touches.length)){var a=this,e=q?b.changedTouches[0]:b,c,d,f={dist:0,time:0},k={dist:0,time:0},g=(b.timeStamp||Date.now())-
a.startTime,x=a.x,h=a.y;a._unbind(S);a._unbind(T);a._unbind(U);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)x=a.scale*a.lastScale,x=Math.max(a.options.zoomMin,x),x=Math.min(a.options.zoomMax,x),a.lastScale=x/a.scale,a.scale=x,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[J]="200ms",a.scroller.style[j]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+N,a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,
b);else{if(a.moved){if(300>g&&a.options.momentum){f=x?a._momentum(x-a.startX,g,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):f;k=h?a._momentum(h-a.startY,g,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?a.wrapperH:0):k;x=a.x+f.dist;h=a.y+k.dist;if(0<a.x&&0<x||a.x<a.maxScrollX&&x<a.maxScrollX)f={dist:0,time:0};if(a.y>a.minScrollY&&h>a.minScrollY||a.y<a.maxScrollY&&h<a.maxScrollY)k={dist:0,time:0}}f.dist||k.dist?(f=i.max(i.max(f.time,k.time),10),a.options.snap&&
(k=x-a.absStartX,g=h-a.absStartY,i.abs(k)<a.options.snapThreshold&&i.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(k=a._snap(x,h),x=k.x,h=k.y,f=i.max(k.time,f))),a.scrollTo(i.round(x),i.round(h),f)):a.options.snap?(k=x-a.absStartX,g=h-a.absStartY,i.abs(k)<a.options.snapThreshold&&i.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(k=a._snap(a.x,a.y),(k.x!=a.x||k.y!=a.y)&&a.scrollTo(k.x,k.y,k.time))):a._resetPos(200)}else q&&(a.doubleTapTimer&&a.options.zoom?
(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,b)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(c=e.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(d=C.createEvent("MouseEvents"),d.initMouseEvent("click",
!0,!0,b.view,1,e.screenX,e.screenY,e.clientX,e.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),d._fake=!0,c.dispatchEvent(d))},a.options.zoom?250:0))),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,e=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&e==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&
this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==o&&(this.hScrollbarWrapper.style[L]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==o&&(this.vScrollbarWrapper.style[L]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,e,b||0)},_wheel:function(b){var a=this,e,c;if("wheelDeltaX"in b)e=b.wheelDeltaX/12,c=b.wheelDeltaY/12;else if("wheelDelta"in b)e=c=b.wheelDelta/12;else if("detail"in
b)e=c=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(c=a.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<a.options.zoomMin&&(c=a.options.zoomMin),c>a.options.zoomMax&&(c=a.options.zoomMax),c!=a.scale)!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,c,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else e=a.x+e,c=a.y+c,0<e?e=0:e<a.maxScrollX&&(e=a.maxScrollX),
c>a.minScrollY?c=a.minScrollY:c<a.maxScrollY&&(c=a.maxScrollY),0>a.maxScrollY&&a.scrollTo(e,c,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind(Q),this._startAni())},_startAni:function(){var b=this,a=b.x,e=b.y,c=Date.now(),d,j,f;b.animating||(b.steps.length?(d=b.steps.shift(),d.x==a&&d.y==e&&(d.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(d.time),
b._pos(d.x,d.y),b.animating=!1,d.time?b._bind(Q):b._resetPos(0)):(f=function(){var k=Date.now(),g;k>=c+d.time?(b._pos(d.x,d.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(k=(k-c)/d.time-1,j=i.sqrt(1-k*k),k=(d.x-a)*j+a,g=(d.y-e)*j+e,b._pos(k,g),b.animating&&(b.aniTime=ha(f)))},f()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[J]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[J]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[J]=
b)},_momentum:function(b,a,e,c,d){var a=i.abs(b)/a,j=a*a/0.0012;0<b&&j>e?(e+=d/(6/(6E-4*(j/a))),a=a*e/j,j=e):0>b&&j>c&&(c+=d/(6/(6E-4*(j/a))),a=a*c/j,j=c);return{dist:j*(0>b?-1:1),time:i.round(a/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,e=-b.offsetTop;b=b.offsetParent;)a-=b.offsetLeft,e-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,e*=this.scale);return{left:a,top:e}},_snap:function(b,a){var e,c,d;d=this.pagesX.length-1;e=0;for(c=this.pagesX.length;e<c;e++)if(b>=this.pagesX[e]){d=e;break}d==
this.currPageX&&0<d&&0>this.dirX&&d--;b=this.pagesX[d];c=(c=i.abs(b-this.pagesX[this.currPageX]))?500*(i.abs(this.x-b)/c):0;this.currPageX=d;d=this.pagesY.length-1;for(e=0;e<d;e++)if(a>=this.pagesY[e]){d=e;break}d==this.currPageY&&0<d&&0>this.dirY&&d--;a=this.pagesY[d];e=(e=i.abs(a-this.pagesY[this.currPageY]))?500*(i.abs(this.y-a)/e):0;this.currPageY=d;d=i.round(i.max(c,e))||200;return{x:b,y:a,time:d}},_bind:function(b,a,e){(a||this.scroller).addEventListener(b,this,!!e)},_unbind:function(b,a,e){(a||
this.scroller).removeEventListener(b,this,!!e)},destroy:function(){this.scroller.style[j]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(W,l);this._unbind(X);this._unbind(S);this._unbind(T);this._unbind(U);this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(Y));this.options.useTransition&&this._unbind(Q);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,
a,e,c=0;a=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=i.round(this.scroller.offsetWidth*this.scale);this.scrollerH=i.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);
this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];e=this.scroller.querySelectorAll(this.options.snap);
b=0;for(a=e.length;b<a;b++)c=this._offset(e[b]),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[b]=c.left<this.maxScrollX?this.maxScrollX:c.left*this.scale,this.pagesY[b]=c.top<this.maxScrollY?this.maxScrollY:c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[a]=c,c-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);
a=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[a]=c,c-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[J]="0",this._resetPos(200))},scrollTo:function(b,a,e,c){var d=b;this.stop();d.length||(d=[{x:b,y:a,time:e,relative:c}]);b=0;for(a=d.length;b<a;b++)d[b].relative&&(d[b].x=this.x-d[b].x,d[b].y=this.y-
d[b].y),this.steps.push({x:d[b].x,y:d[b].y,time:d[b].time||0});this._startAni()},scrollToElement:function(b,a){var e;if(b=b.nodeType?b:this.scroller.querySelector(b))e=this._offset(b),e.left+=this.wrapperOffsetLeft,e.top+=this.wrapperOffsetTop,e.left=0<e.left?0:e.left<this.maxScrollX?this.maxScrollX:e.left,e.top=e.top>this.minScrollY?this.minScrollY:e.top<this.maxScrollY?this.maxScrollY:e.top,a=void 0===a?i.max(2*i.abs(e.left),2*i.abs(e.top)):a,this.scrollTo(e.left,e.top,a)},scrollToPage:function(b,
a,e){e=void 0===e?400:e;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY)a=
this.maxScrollY;this.scrollTo(b,a,e)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(S);this._unbind(T);this._unbind(U)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(Q):ca(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,e,c){var d=e/this.scale;this.options.useTransform&&(this.zoomed=!0,c=void 0===c?200:c,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*d+this.x,this.y=
a-a*d+this.y,this.scale=e,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[J]=c+"ms",this.scroller.style[j]="translate("+this.x+"px,"+this.y+"px) scale("+e+")"+N,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};g=null;O=u;var R=function(){c||(c=!0,B(K,function(b){setTimeout(b,0)}))};if("complete"===n.readyState)setTimeout(R,
0);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",R,!1),t.addEventListener("load",R,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",R);t.attachEvent("onload",R);w=!1;try{w=null===t.frameElement}catch(ia){}n.documentElement.doScroll&&w&&setTimeout(function(){D(R)},0)}w=function(){F.apply(this,arguments)};h=function(){F.apply(this,arguments)};H&&(h.node=function(){return E.apply(this,arguments)},H.plugin("scrollable",h));if(p){p.extend(p.fn,{scrollable:function(b){this.forEach(function(a){F(a,
b)});return this},scrollableNode:function(){return $(this.map(function(){return E(this)}))}});var V=p.fn.scrollTop,Z=p.fn.scrollLeft;p.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0],e=r(a);return e&&a._scrollTop?a._scrollTop():V?V.apply(this,arguments):e?a.scrollTop:null}this.forEach(function(a){var e=r(a);e&&a._scrollTop?a._scrollTop(b):V?V.call(p(a),b):e&&(a.scrollTop=b)});return this};p.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0],e=r(a);return e&&a._scrollLeft?
a._scrollLeft():V?Z.apply(this,arguments):e?a.scrollLeft:null}this.forEach(function(a){var e=r(a);e&&a._scrollLeft?a._scrollLeft(b):Z?Z.call(p(a),b):e&&(a.scrollLeft=b)});return this}}if(z){z.fn.scrollable=function(b){this.each(function(){F(this,b)});return this};z.fn.scrollableNode=function(){return $(this.map(function(){return E(this)}))};var da=z.fn.scrollTop,ea=z.fn.scrollLeft;z.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0];return r(a)&&a._scrollTop?a._scrollTop():da.apply(this,
arguments)}this.each(function(){r(this)&&this._scrollTop?this._scrollTop(b):da.call(z(this),b)});return this};z.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0];return r(a)&&a._scrollLeft?a._scrollLeft():ea.apply(this,arguments)}this.each(function(){r(this)&&this._scrollLeft?this._scrollLeft(b):ea.call(z(this),b)});return this}}w.node=function(){return E.apply(this,arguments)};return w}(window,document,window.clik,window.Zepto,window.jQuery);
(function(t,n){function H(j,k,J,x){if(l)O.push(["load",j,k,J,x]);else{l=!0;if(!P){for(var h=n.getElementsByClassName(D),L,M,y=h.length;y--;)L=h[y],M=L.getAttribute(F),"string"===typeof M&&0!==M.length&&(L.parentNode.removeChild(L),u[M]=L.cloneNode(!0));if(h=/\bCPU.*OS (\d+(_\d+)?)/i.exec(navigator.userAgent))C="ios",i=parseFloat(h[1]),n.body.className+=" "+G,o=c;else if(h=/\bAndroid (\d+(\.\d+)?)/.exec(navigator.userAgent))C="android",i=parseFloat(h[1]),n.body.className+=" "+E,o=4<=i?d:f;n.body.className+=
" "+K;w=g[o]}var t={};if(!(j in u))throw TypeError(j+" is not a known page");var q=u[j].cloneNode(!0),h=m[j]||[];I(q);Array.prototype.forEach.call(q.querySelectorAll(".app-button"),function(c){Clickable(c);var d=c.getAttribute("data-target");c.getAttribute("data-back")?c.addEventListener("click",function(){p({},function(){})},!1):d&&c.addEventListener("click",function(){H(d,{},{},function(){})},!1)});h.forEach(function(c){c[0].call(t,q,k)});if(P){var h={},B;for(B in J)h[B]=J[B];r(q,h,function(){Array.prototype.forEach.call(q.querySelectorAll(".app-content"),
function(c){Scrollable(c)});l=!1;setTimeout(z,0);x()})}else n.body.appendChild(q),l=!1;P=j;A=q;v.push([j,q,J,k,t])}}function p(c,d){if(l)O.push(["back",c,d]);else{l=!0;if(2>v.length)throw Error("navigation stack is empty");var f=v.pop(),g=f[0],h=f[1],i=f[3],n=f[4];if(!(g in u))throw TypeError(g+" is not a known page");(m[g]||[]).forEach(function(c){c[1].call(n,h,i)});var y=v[v.length-1],g=y[0],y=y[1],f=f[2],o={},q;for(q in f)o[q]=f[q];for(q in c)o[q]=c[q];r(y,o,function(){l=!1;setTimeout(z,0);d()},
!0);P=g;A=y}}function z(){if(0!==O.length){var c=O.shift();switch(c.shift()){case "load":H.apply(t,c);break;case "back":p.apply(t,c)}}}function r(c,d,f,h){function i(){n.body.removeChild(l);f()}function m(){--F||(G(),H(),I(),y.appendChild(p),c.appendChild(u),Swapper(y,c,"instant"),i())}var l=n.createElement("div");l.className="app-clickblocker";n.body.appendChild(l);var y=A;if(d.transition)h&&(d.transition=g[d.transition]||d.transition),Swapper(y,c,d,i);else if(d.transition=h?w:o,"android"===C)Swapper(y,
c,d,i);else{var h=y.querySelector(".app-topbar"),p=y.querySelector(".app-content"),q=y.querySelector(".app-topbar .app-title"),r=y.querySelector(".app-topbar .left.app-button"),v=y.querySelector(".app-topbar .right.app-button"),t=c.querySelector(".app-topbar"),u=c.querySelector(".app-content"),z=c.querySelector(".app-topbar .app-title"),D=c.querySelector(".app-topbar .left.app-button"),E=c.querySelector(".app-topbar .right.app-button");if(!h||!t||!p||!u)Swapper(y,c,d,i);else{var F=4,G=B(h,t,q,z,d,
m),H=B(h,t,r,D,d,m),I=B(h,t,v,E,d,m);Swapper(p,u,d,m)}}}function B(c,d,f,g,h,i){var m=function(){};if(f&&g)Swapper(f,g,{easing:h.easing,duration:h.duration,transition:"fade"},i),m=function(){c.appendChild(f);d.appendChild(g)};else if(f){var l=n.createElement("div");l.className=f.className;l.innerHTML=f.innerHTML;l.style.visibility="hidden";Swapper(f,l,{easing:h.easing,duration:h.duration,transition:"fade"},i);m=function(){c.removeChild(l);c.appendChild(f)}}else g?(l=n.createElement("div"),l.className=
g.className,l.innerHTML=g.innerHTML,l.style.visibility="hidden",c.appendChild(l),Swapper(l,g,{easing:h.easing,duration:h.duration,transition:"fade"},i),m=function(){d.appendChild(g)}):setTimeout(i,0);return m}function I(c){var d=c.querySelector(".app-topbar");if(c=c.querySelector(".app-content")){var f=t.innerHeight;if(d){var d=n.defaultView.getComputedStyle(d,null),g="android"===C?48:44;d.height&&(g=parseInt(d.height)||0);c.style.height=f-g+"px"}else c.style.height=f+"px"}}var D="app-page",F="data-page",
G="app-ios",E="app-android",K="app-loaded",c="slide-left",d="implode-out",f="fade",g={fade:"fade","scale-in":"scale-out","scale-out":"scale-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","implode-in":"implode-out","implode-out":"implode-in","slide-left":"slide-right","slide-right":"slide-left","slide-up":"slide-down","slide-down":"slide-up"},
h={},u={},m={},v=[],O=[],l=!1,C,i,o,w,P,A;h.current=function(){return P};h.populator=function(c,d,f){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);if("function"!==typeof d)throw TypeError("page populator must be a function, got "+d);switch(typeof f){case "undefined":f=function(){};break;case "function":break;default:throw TypeError("page unpopulator must be a function, got "+f);}m[c]||(m[c]=[]);m[c].push([d,f])};h.load=function(c,d,f,g){if("string"!==typeof c)throw TypeError("page name must be a string, got "+
c);switch(typeof d){case "function":g=d;d={};f={};break;case "undefined":d={};break;case "string":f=d;d={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+d);}switch(typeof f){case "function":g=f;f={};break;case "undefined":f={};break;case "string":f={transition:f};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+f);}switch(typeof g){case "undefined":g=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+
g);}H(c,d,f,g)};h.back=function(c,d){switch(typeof c){case "function":d=c;c={};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+c);}switch(typeof d){case "undefined":d=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+d);}p(c,d)};t.addEventListener("resize",function(){A&&I(A)});t.App=h})(window,document);
