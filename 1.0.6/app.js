var ImageLoader=function(m,n,s,i){function t(g,n){g.style["-webkit-transition"]=n;g.style["-moz-transition"]=n;g.style["-ms-transition"]=n;g.style["-o-transition"]=n;g.style.transition=n}function o(g,i,o,r){function m(){f||(f=!0,E[i]=!0,g.src=i,g.style.opacity="1",setTimeout(function(){t(g,"");setTimeout(function(){g.style.opacity=u.opacity;g.style["-webkit-transition"]=u["-webkit-transition"];g.style["-moz-transition"]=u["-moz-transition"];g.style["-ms-transition"]=u["-ms-transition"];g.style["-o-transition"]=
u["-o-transition"];g.style.transition=u.transition;r()},0)},A),n.body.removeChild(p))}var c;a:if(g){try{c=g instanceof Node||g instanceof HTMLElement;break a}catch(e){}c="object"!==typeof g||"number"!==typeof g.nodeType||"string"!==typeof g.nodeName?!1:!0}else c=!1;if(!c)throw TypeError("image must be a DOM element, got "+g);if("string"!==typeof i)throw TypeError("url must be a string, got "+i);switch(typeof o){case "function":r=o;case "undefined":o=0;case "number":break;default:throw TypeError("minimum wait time must be a number if deinfed, got "+
o);}switch(typeof r){case "undefined":r=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+r);}if(!0===E[i])g.src=i;else{var f=!1,j=+new Date+(o||0),u={opacity:g.style.opacity,"-webkit-transition":g.style["-webkit-transition"],"-moz-transition":g.style["-moz-transition"],"-ms-transition":g.style["-ms-transition"],"-o-transition":g.style["-o-transition"],transition:g.style.transition};g.style.opacity="0";setTimeout(function(){t(g,"opacity "+A/
1E3+"s ease-in-out")},0);var p=new Image;p.style.opacity="0";p.style.position="fixed";p.style.top="-100%";p.style.left="-100%";p.style.height="1px";p.style.width="1px";n.body.appendChild(p);p.onload=function(){var e=+new Date;e>=j?m():setTimeout(m,j-e)};p.onerror=p.onload;p.src=i}}var A=300,E={};s&&s.extend(s.fn,{imageLoader:function(g,n,i){this.forEach(function(r){o(r,g,n,i)});return this}});i&&(i.fn.imageLoader=function(g,n,i){this.each(function(){o(this,g,n,i)});return this});return o}(window,
document,window.Zepto,window.jQuery),Swapper=function(m,n,s,i){function t(e,f){var c=f.parentNode;c.lastchild===f?c.appendChild(e):c.insertBefore(e,f.nextSibling)}function o(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e,f){e.style["-webkit-transform"]=f;e.style["-moz-transform"]=f;e.style["-ms-transform"]=f;e.style["-o-transform"]=f;e.style.transform=f}function E(e,f){f?(e.style["-webkit-transition"]="-webkit-"+f,e.style["-moz-transition"]="-moz-"+f,e.style["-ms-transition"]="-ms-"+f,
e.style["-o-transition"]="-o-"+f,e.style.transition=f):(e.style["-webkit-transition"]="",e.style["-moz-transition"]="",e.style["-ms-transition"]="",e.style["-o-transition"]="",e.style.transition="")}function g(e,f){var c;c=f?e.style:n.defaultView.getComputedStyle(e,null);return{display:c.display,opacity:c.opacity,top:c.top,left:c.left,height:c.height,width:c.width,position:c.position}}function G(e){var c;a:if(e){try{c=e instanceof Node||e instanceof HTMLElement;break a}catch(j){}c="object"!==typeof e||
"number"!==typeof e.nodeType||"string"!==typeof e.nodeName?!1:!0}else c=!1;if(!c)throw TypeError("element must be a DOM node, got "+e);}function I(e,f,j,i){function p(){k.addEventListener("webkitTransitionEnd",q,!1);k.addEventListener("transitionend",q,!1);k.addEventListener("oTransitionEnd",q,!1);k.addEventListener("otransitionend",q,!1);k.addEventListener("MSTransitionEnd",q,!1);k.addEventListener("transitionend",q,!1)}function q(){w||(w=!0,k&&(k.removeEventListener("webkitTransitionEnd",q),k.removeEventListener("transitionend",
q),k.removeEventListener("oTransitionEnd",q),k.removeEventListener("otransitionend",q),k.removeEventListener("MSTransitionEnd",q),k.removeEventListener("transitionend",q)),o(e),E(e,""),E(f,""),setTimeout(function(){A(e,"");A(f,"");C[0].fade&&(f.style.opacity=s.opacity);C[1].fade&&(e.style.opacity=x.opacity);f.style.position=s.position;f.style.top=s.top;f.style.left=s.left;f.style.height=s.height;f.style.width=s.width;e._swapper=!1;f._swapper=!1;i()},0))}G(e);G(f);"function"===typeof j&&(i=j,j={});
switch(typeof j){case "string":j={transition:j};break;case "undefined":j={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+j);}switch(typeof j.transition){case "string":if(!(j.transition in K)&&"instant"!==j.transition)throw TypeError(j.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+j.transition);}switch(typeof j.duration){case "number":if(0>j.duration)throw TypeError("duration must be a non-negative integer, got "+
j.duration);break;case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+j.duration);}switch(typeof j.easing){case "string":if(!(j.easing in c))throw TypeError(j.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+j.easing);}var m=i;switch(typeof m){case "undefined":m=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+m);}i=
m;if(e._swapper)throw Error("elem1 is currently being swapped");if(f._swapper)throw Error("elem2 is currently being swapped");a:{for(m=e;m=m.parentNode;)if(m===n){m=!0;break a}m=!1}if(!m)throw Error("elem1 must be in the DOM to be swapped");e._swapper=!0;f._swapper=!0;o(f);if("instant"===j.transition)t(f,e),o(e),e._swapper=!1,f._swapper=!1,setTimeout(function(){i()},0);else{var C=K[j.transition||"fade"],y=c[j.easing||"ease-in-out"],L=j.duration||300;t(f,e);var j=e.getBoundingClientRect(),l=g(e),z=
g(f),x=g(e,!0),s=g(f,!0);"none"!==l.display&&(f.style.position="fixed",f.style.top=j.top+"px",f.style.left=j.left+"px");f.style.height=z.height||l.height;f.style.width=z.width||l.width;C[2]&&e.parentNode.insertBefore(f,e);A(e,r);A(f,C[0].transform||r);C[0].fade&&(f.style.opacity="0");C[1].fade&&(e.style.opacity="1");setTimeout(function(){var c="transform "+L/1E3+"s "+y+", opacity "+L/1E3+"s "+y;E(e,c);E(f,c);setTimeout(function(){A(e,C[1].transform||r);A(f,r);C[0].fade&&(f.style.opacity="1");C[1].fade&&
(e.style.opacity="0");"none"!==z.display&&(C[0].fade||C[0].transform&&C[0].transform!==r)?(k=f,p()):"none"!==l.display&&(C[1].fade||C[1].transform&&C[1].transform!==r)?(k=e,p()):setTimeout(q,L)},0)},0);var w=!1,k}}var r="translate3d(0,0,0) scale(1)";/\bandroid\b/i.test(navigator.userAgent);var K={fade:[{fade:!0},{fade:!0}],"fade-on":[{fade:!0},{}],"fade-off":[{},{fade:!0},!0],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{},{transform:"scale(0.01)"},!0],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",
fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],
"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},{}],"explode-out":[{},{fade:!0,transform:"scale(1.25)"},!0],"implode-in":[{},{fade:!0,transform:"scale(0.60)"},!0],"implode-out":[{fade:!0,transform:"scale(0.80)"},
{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}],"slideon-left":[{transform:"translate3d(-100%,0,0)"},{}],"slideoff-left":[{},{transform:"translate3d(-100%,0,0)"},!0],"slideon-right":[{transform:"translate3d(100%,0,0)"},
{}],"slideoff-right":[{},{transform:"translate3d(100%,0,0)"},!0],"slideon-up":[{transform:"translate3d(0,-100%,0)"},{}],"slideoff-up":[{},{transform:"translate3d(0,-100%,0)"},!0],"slideon-down":[{transform:"translate3d(0,100%,0)"},{}],"slideoff-down":[{},{transform:"translate3d(0,100%,0)"},!0]},c={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};s&&s.extend(s.fn,{swapper:function(c,f,j){c=s(c)[0];this.forEach(function(g){I(g,
c,f,j)});return this}});i&&(i.fn.swapper=function(c,f,g){c=i(c)[0];this.each(function(){I(this,c,f,g)});return this});return I}(window,document,window.Zepto,window.jQuery),Clickable=function(m,n,s,i,t){function o(c,e){function f(){c.addEventListener("touchstart",y,!1);c.addEventListener("touchmove",t,!1);c.addEventListener("touchend",l,!1);c.addEventListener("touchcancel",t,!1)}function j(){c.removeEventListener("touchstart",y);c.removeEventListener("touchmove",t);c.removeEventListener("touchend",
l);c.removeEventListener("touchcancel",t)}function i(){var e=c,f;f=c.className.replace(w,"");f=String(f).replace(A,"");e.className=f}function p(c,e){do{if(c===e)return!0;if(c._clickable)break}while(c=c.parentNode);return!1}function o(f){F=!1;c.disabled||!p(f.target,c)?(f.preventDefault(),k=!1):(k=!0,c.className+=" "+e)}function r(c){c.preventDefault();F=k=!1;i()}function s(e){c.disabled?(e.preventDefault(),F=k=!1):(k?F=!0:(e.preventDefault(),F=!1),k=!1,i())}function y(f){F=!1;if(c.disabled||!p(f.target,
c))k=!1;else{k=!0;var g=H=+new Date;setTimeout(function(){k&&g===H&&(c.className+=" "+e)},E)}}function t(){k=F=!1;c.disabled||i()}function l(f){function g(){F=!0;var e=n.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,m,1,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(e)}var j=k;t();j&&!c.disabled&&(f.stopImmediatePropagation?+new Date-H>E?g():(c.className+=" "+e,setTimeout(function(){i();g()},1)):F=!0)}function z(e){e=e||m.event;if(!c.disabled&&F)F=!1;else return e.stopImmediatePropagation&&
e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1}var x;a:if(c){try{x=c instanceof Node||c instanceof HTMLElement;break a}catch(G){}x="object"!==typeof c||"number"!==typeof c.nodeType||"string"!==typeof c.nodeName?!1:!0}else x=!1;if(!x)throw TypeError("element "+c+" must be a DOM element");if(!c._clickable){c._clickable=!0;switch(typeof e){case "undefined":e="active";case "string":break;default:throw TypeError("active class "+e+" must be a string");
}c.setAttribute("data-clickable-class",e);var w=RegExp("\\b"+e+"\\b"),k=!1,F=!1,H;if(g.ios||g.android)if(c.style["-webkit-tap-highlight-color"]="rgba(255,255,255,0)",c.addEventListener("click",z,!1),g.ios){c.addEventListener("DOMNodeInsertedIntoDocument",f,!1);c.addEventListener("DOMNodeRemovedFromDocument",j,!1);a:{for(x=c;x=x.parentNode;)if(x===n){x=!0;break a}x=!1}x&&f()}else f();else c.addEventListener?(c.addEventListener("mousedown",o,!1),c.addEventListener("mousemove",r,!1),c.addEventListener("mouseout",
r,!1),c.addEventListener("mouseup",s,!1),c.addEventListener("click",z,!1)):c.attachEvent&&(c.attachEvent("onmousedown",o),c.attachEvent("onmousemove",r),c.attachEvent("onmouseout",r),c.attachEvent("onmouseup",s),c.attachEvent("onclick",z))}}var A=/^\s+|\s+$/g,E=40,g,G=m.navigator.userAgent,I,r,K;if(K=/\bCPU.*OS (\d+(_\d+)?)/i.exec(G))I="ios",r=K[1].replace("_",".");else if(K=/\bAndroid (\d+(\.\d+)?)/.exec(G))I="android",r=K[1];G={name:I,version:r&&m.parseFloat(r)};G[I]=!0;g=G;I=function(){o.apply(this,
arguments)};s&&s.plugin("clickable",function(){o.apply(this,arguments)});i&&i.extend(i.fn,{clickable:function(c){this.forEach(function(e){o(e,c)});return this}});t&&(t.fn.clickable=function(c){this.each(function(){o(this,c)});return this});I.touchable=function(){return g.ios||g.android};return I}(window,document,window.clik,window.Zepto,window.jQuery),Scrollable=function(m,n,s,i,t){function o(b){if(!b)return!1;try{return b instanceof Node||b instanceof HTMLElement}catch(a){}return"object"!==typeof b||
"number"!==typeof b.nodeType||"string"!==typeof b.nodeName?!1:!0}function A(b,a,d){if(Array.prototype.forEach)Array.prototype.forEach.call(b,a,d);else for(var v=0,c=b.length;v<c;v++)v in b&&a.call(d,b[v],v,b)}function E(b){c?setTimeout(b,0):K.push(b)}function g(b){try{n.documentElement.doScroll("left")}catch(a){setTimeout(function(){g(b)},1);return}b()}function G(b,a){function d(){var a=b._scrollTop(),d=b._scrollLeft();a===N&&d===g||(N=a,g=d,b.dispatchEvent&&(a=n.createEvent("MouseEvents"),a.initMouseEvent("scroll",
!1,!1,m,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(a)))}if(!o(b))throw b+" is not a DOM element";if(!b._scrollable){b._scrollable=!0;b.style.overflow="scroll";b._scrollTop=function(a){if("undefined"===typeof a)return h?Math.max(parseInt(-h.y),0):b.scrollTop;!h&&(!Z||e)?b.scrollTop=a:E(function(){h.scrollTo(h.x,Math.min(-a,0),1)})};b._scrollLeft=function(a){if("undefined"===typeof a)return h?Math.max(parseInt(-h.x),0):b.scrollLeft;!h&&(!Z||e)?b.scrollLeft=a:E(function(){h.scrollTo(Math.min(-a,0),
h.y,1)})};if(!a){if(!Z)return;if(e){b.style["-webkit-overflow-scrolling"]="touch";return}}var v=n.createElement("div"),c=Array.prototype.slice.call(b.childNodes||[]);A(c,function(a){a=b.removeChild(a);v.appendChild(a)});b.appendChild(v);var h,N,g;b._iScroll=!0;E(function(){h=new C(b,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,hScrollbar:!1,vScrollbar:!1,bounce:!!f.ios,onScrollMove:d,onBeforeScrollEnd:d,onScrollEnd:d,onBeforeScrollStart:I})})}}function I(b){for(var a=b.target;1!==a.nodeType;)a=
a.parentNode;"SELECT"!==a.tagName&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&b.preventDefault()}function r(b){return o(b)&&b._iScroll?b.childNodes[0]:b}var K=[],c=!1,e=!1,f,j=navigator.userAgent,u,p,q;if(q=/\bCPU.*OS (\d+(_\d+)?)/i.exec(j))u="ios",p=q[1].replace("_",".");else if(q=/\bAndroid (\d+(\.\d+)?)/.exec(j))u="android",p=q[1];j={name:u,version:p&&m.parseFloat(p)};j[u]=!0;f=j;var Z=!!f.name,C;if(f.ios&&5<=f.version||f.android&&4<=f.version)e=!0;var y=m,L=n;u=function(b){if(""===z)return b;
b=b.charAt(0).toUpperCase()+b.substr(1);return z+b};var l=Math,j=L.createElement("div").style,z;a:{p=["t","webkitT","MozT","msT","OT"];var x;q=0;for(var da=p.length;q<da;q++)if(x=p[q]+"ransform",x in j){z=p[q].substr(0,p[q].length-1);break a}z=!1}var w=z?"-"+z.toLowerCase()+"-":"",k=u("transform"),F=u("transitionProperty"),H=u("transitionDuration"),Q=u("transformOrigin"),V=u("transitionTimingFunction"),M=u("transitionDelay"),R=/android/gi.test(navigator.appVersion),P=/iphone|ipad/gi.test(navigator.appVersion);
p=/hp-tablet/gi.test(navigator.appVersion);var S=u("perspective")in j,B="ontouchstart"in y&&!p,aa=!!z,T=u("transition")in j,J="onorientationchange"in y?"orientationchange":"resize",W=B?"touchstart":"mousedown",h=B?"touchmove":"mousemove",N=B?"touchend":"mouseup",ba=B?"touchcancel":"mouseup",X="Moz"==z?"DOMMouseScroll":"mousewheel",U;U=!1===z?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[z];var D=y.requestAnimationFrame||y.webkitRequestAnimationFrame||
y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(b){return setTimeout(b,1)},fa=y.cancelRequestAnimationFrame||y.webkitCancelAnimationFrame||y.webkitCancelRequestAnimationFrame||y.mozCancelRequestAnimationFrame||y.oCancelRequestAnimationFrame||y.msCancelRequestAnimationFrame||clearTimeout,O=S?" translateZ(0)":"";p=function(b,a){var d=this,v;d.wrapper="object"==typeof b?b:L.getElementById(b);d.wrapper.style.overflow="hidden";d.scroller=d.wrapper.children[0];
d.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:R,hideScrollbar:P,fadeScrollbar:P&&S,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,
onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(v in a)d.options[v]=a[v];d.x=d.options.x;d.y=d.options.y;d.options.useTransform=aa&&d.options.useTransform;d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar;d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar;d.options.zoom=d.options.useTransform&&d.options.zoom;d.options.useTransition=T&&d.options.useTransition;d.options.zoom&&R&&(O="");d.scroller.style[F]=d.options.useTransform?w+
"transform":"top left";d.scroller.style[H]="0";d.scroller.style[Q]="0 0";d.options.useTransition&&(d.scroller.style[V]="cubic-bezier(0.33,0.66,0.66,1)");d.options.useTransform?d.scroller.style[k]="translate("+d.x+"px,"+d.y+"px)"+O:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px";d.options.useTransition&&(d.options.fixedScrollbar=!0);d.refresh();d._bind(J,y);d._bind(W);B||(d._bind("mouseout",d.wrapper),"none"!=d.options.wheelAction&&d._bind(X));d.options.checkDOMChanges&&
(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};p.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case W:if(!B&&0!==b.button)break;this._start(b);break;case h:this._move(b);break;case N:case ba:this._end(b);break;case J:this._resize();break;case X:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case U:this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&
!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(a=L.createElement("div"),this.options.scrollbarClass?a.className=this.options.scrollbarClass+b.toUpperCase():a.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?
"7":"2")+"px;top:2px;right:1px"),a.style.cssText+=";pointer-events:none;"+w+"transition-property:opacity;"+w+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(a),this[b+"ScrollbarWrapper"]=a,a=L.createElement("div"),this.options.scrollbarClass||(a.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+w+"background-clip:padding-box;"+w+"box-sizing:border-box;"+
("h"==b?"height:100%":"width:100%")+";"+w+"border-radius:3px;border-radius:3px"),a.style.cssText+=";pointer-events:none;"+w+"transition-property:"+w+"transform;"+w+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+w+"transition-duration:0;"+w+"transform: translate(0,0)"+O,this.options.useTransition&&(a.style.cssText+=";"+w+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(a),this[b+"ScrollbarIndicator"]=a),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,
this.hScrollbarIndicatorSize=l.max(l.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=l.max(l.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=
this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(aa&&(this[b+"ScrollbarIndicator"].style[k]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},R?200:0)},_pos:function(b,
a){this.zoomed||(b=this.hScroll?b:0,a=this.vScroll?a:0,this.options.useTransform?this.scroller.style[k]="translate("+b+"px,"+a+"px) scale("+this.scale+")"+O:(b=l.round(b),a=l.round(a),this.scroller.style.left=b+"px",this.scroller.style.top=a+"px"),this.x=b,this.y=a,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(b,a){var d="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(d*=this[b+"ScrollbarProp"],0>d?(this.options.fixedScrollbar||(d=this[b+"ScrollbarIndicatorSize"]+l.round(3*d),
8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px"),d=0):d>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?d=this[b+"ScrollbarMaxScroll"]:(d=this[b+"ScrollbarIndicatorSize"]-l.round(3*(d-this[b+"ScrollbarMaxScroll"])),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px",d=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-d))),this[b+"ScrollbarWrapper"].style[M]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?
"0":"1",this[b+"ScrollbarIndicator"].style[k]="translate("+("h"==b?d+"px,0)":"0,"+d+"px)")+O)},_start:function(b){var a=B?b.touches[0]:b,d,v;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&B&&1<b.touches.length&&(v=l.abs(b.touches[0].pageX-b.touches[1].pageX),
d=l.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=l.sqrt(v*v+d*d),this.originX=l.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=l.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[k].replace(/[^0-9\-.,]/g,"").split(","),v=1*d[4],d=1*d[5]):(v=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),v!=this.x||d!=this.y))this.options.useTransition?this._unbind(U):fa(this.aniTime),this.steps=[],this._pos(v,d);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(h);this._bind(N);this._bind(ba)}},_move:function(b){var a=
B?b.touches[0]:b,d=a.pageX-this.pointX,v=a.pageY-this.pointY,c=this.x+d,h=this.y+v,e=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&B&&1<b.touches.length)c=l.abs(b.touches[0].pageX-b.touches[1].pageX),h=l.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=l.sqrt(c*c+h*h),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):
a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,c=this.originX-this.originX*this.lastScale+this.x,h=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[k]="translate("+c+"px,"+h+"px) scale("+a+")"+O,this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<c||c<this.maxScrollX)c=this.options.bounce?this.x+d/2:0<=c||0<=this.maxScrollX?0:this.maxScrollX;if(h>this.minScrollY||
h<this.maxScrollY)h=this.options.bounce?this.y+v/2:h>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=d;this.distY+=v;this.absDistX=l.abs(this.distX);this.absDistY=l.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(h=this.y,v=0):this.absDistY>this.absDistX+5&&(c=this.x,d=0)),this.moved=!0,this._pos(c,h),this.dirX=0<d?-1:0>d?1:0,this.dirY=0<v?-1:0>v?1:0,300<e-this.startTime&&(this.startTime=e,this.startX=
this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(B&&0!==b.touches.length)){var a=this,d=B?b.changedTouches[0]:b,c,e,f={dist:0,time:0},g={dist:0,time:0},j=(b.timeStamp||Date.now())-a.startTime,i=a.x,n=a.y;a._unbind(h);a._unbind(N);a._unbind(ba);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)i=a.scale*a.lastScale,i=Math.max(a.options.zoomMin,i),i=Math.min(a.options.zoomMax,i),a.lastScale=i/a.scale,a.scale=
i,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[H]="200ms",a.scroller.style[k]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+O,a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(300>j&&a.options.momentum){f=i?a._momentum(i-a.startX,j,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):f;g=n?a._momentum(n-a.startY,j,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?
a.wrapperH:0):g;i=a.x+f.dist;n=a.y+g.dist;if(0<a.x&&0<i||a.x<a.maxScrollX&&i<a.maxScrollX)f={dist:0,time:0};if(a.y>a.minScrollY&&n>a.minScrollY||a.y<a.maxScrollY&&n<a.maxScrollY)g={dist:0,time:0}}f.dist||g.dist?(f=l.max(l.max(f.time,g.time),10),a.options.snap&&(g=i-a.absStartX,j=n-a.absStartY,l.abs(g)<a.options.snapThreshold&&l.abs(j)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(g=a._snap(i,n),i=g.x,n=g.y,f=l.max(g.time,f))),a.scrollTo(l.round(i),l.round(n),f)):a.options.snap?
(g=i-a.absStartX,j=n-a.absStartY,l.abs(g)<a.options.snapThreshold&&l.abs(j)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(g=a._snap(a.x,a.y),(g.x!=a.x||g.y!=a.y)&&a.scrollTo(g.x,g.y,g.time))):a._resetPos(200)}else B&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,
b)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(c=d.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(e=L.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,b.view,1,d.screenX,d.screenY,d.clientX,d.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),e._fake=!0,c.dispatchEvent(e))},a.options.zoom?250:0))),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=
0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&d==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==z&&(this.hScrollbarWrapper.style[M]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==z&&(this.vScrollbarWrapper.style[M]=
"300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,d,b||0)},_wheel:function(b){var a=this,d,c;if("wheelDeltaX"in b)d=b.wheelDeltaX/12,c=b.wheelDeltaY/12;else if("wheelDelta"in b)d=c=b.wheelDelta/12;else if("detail"in b)d=c=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(c=a.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<a.options.zoomMin&&(c=a.options.zoomMin),c>a.options.zoomMax&&(c=a.options.zoomMax),c!=a.scale)!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,
b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,c,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else d=a.x+d,c=a.y+c,0<d?d=0:d<a.maxScrollX&&(d=a.maxScrollX),c>a.minScrollY?c=a.minScrollY:c<a.maxScrollY&&(c=a.maxScrollY),0>a.maxScrollY&&a.scrollTo(d,c,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind(U),
this._startAni())},_startAni:function(){var b=this,a=b.x,d=b.y,c=Date.now(),h,e,f;b.animating||(b.steps.length?(h=b.steps.shift(),h.x==a&&h.y==d&&(h.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(h.time),b._pos(h.x,h.y),b.animating=!1,h.time?b._bind(U):b._resetPos(0)):(f=function(){var g=Date.now(),N;g>=c+h.time?(b._pos(h.x,h.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(g=(g-c)/h.time-1,e=l.sqrt(1-g*g),g=(h.x-a)*e+a,N=
(h.y-d)*e+d,b._pos(g,N),b.animating&&(b.aniTime=D(f)))},f()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[H]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[H]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[H]=b)},_momentum:function(b,a,d,c,h){var a=l.abs(b)/a,e=a*a/0.0012;0<b&&e>d?(d+=h/(6/(6E-4*(e/a))),a=a*d/e,e=d):0>b&&e>c&&(c+=h/(6/(6E-4*(e/a))),a=a*c/e,e=c);return{dist:e*(0>b?-1:1),time:l.round(a/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,d=-b.offsetTop;b=
b.offsetParent;)a-=b.offsetLeft,d-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,d*=this.scale);return{left:a,top:d}},_snap:function(b,a){var d,c,h;h=this.pagesX.length-1;d=0;for(c=this.pagesX.length;d<c;d++)if(b>=this.pagesX[d]){h=d;break}h==this.currPageX&&0<h&&0>this.dirX&&h--;b=this.pagesX[h];c=(c=l.abs(b-this.pagesX[this.currPageX]))?500*(l.abs(this.x-b)/c):0;this.currPageX=h;h=this.pagesY.length-1;for(d=0;d<h;d++)if(a>=this.pagesY[d]){h=d;break}h==this.currPageY&&0<h&&0>this.dirY&&h--;a=this.pagesY[h];
d=(d=l.abs(a-this.pagesY[this.currPageY]))?500*(l.abs(this.y-a)/d):0;this.currPageY=h;h=l.round(l.max(c,d))||200;return{x:b,y:a,time:h}},_bind:function(b,a,d){(a||this.scroller).addEventListener(b,this,!!d)},_unbind:function(b,a,d){(a||this.scroller).removeEventListener(b,this,!!d)},destroy:function(){this.scroller.style[k]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(J,y);this._unbind(W);this._unbind(h);this._unbind(N);this._unbind(ba);this.options.hasTouch||
(this._unbind("mouseout",this.wrapper),this._unbind(X));this.options.useTransition&&this._unbind(U);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,a,d,c=0;a=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=l.round(this.scroller.offsetWidth*
this.scale);this.scrollerH=l.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=
this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];d=this.scroller.querySelectorAll(this.options.snap);b=0;for(a=d.length;b<a;b++)c=this._offset(d[b]),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[b]=c.left<this.maxScrollX?this.maxScrollX:c.left*this.scale,this.pagesY[b]=c.top<this.maxScrollY?this.maxScrollY:
c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[a]=c,c-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);a=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[a]=c,c-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");
this._scrollbar("v");this.zoomed||(this.scroller.style[H]="0",this._resetPos(200))},scrollTo:function(b,a,d,c){var h=b;this.stop();h.length||(h=[{x:b,y:a,time:d,relative:c}]);b=0;for(a=h.length;b<a;b++)h[b].relative&&(h[b].x=this.x-h[b].x,h[b].y=this.y-h[b].y),this.steps.push({x:h[b].x,y:h[b].y,time:h[b].time||0});this._startAni()},scrollToElement:function(b,a){var d;if(b=b.nodeType?b:this.scroller.querySelector(b))d=this._offset(b),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=
0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=d.top>this.minScrollY?this.minScrollY:d.top<this.maxScrollY?this.maxScrollY:d.top,a=void 0===a?l.max(2*l.abs(d.left),2*l.abs(d.top)):a,this.scrollTo(d.left,d.top,a)},scrollToPage:function(b,a,d){d=void 0===d?400:d;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-
1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY)a=this.maxScrollY;this.scrollTo(b,a,d)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(h);this._unbind(N);this._unbind(ba)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(U):fa(this.aniTime);
this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,d,c){var h=d/this.scale;this.options.useTransform&&(this.zoomed=!0,c=void 0===c?200:c,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*h+this.x,this.y=a-a*h+this.y,this.scale=d,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[H]=c+"ms",this.scroller.style[k]="translate("+
this.x+"px,"+this.y+"px) scale("+d+")"+O,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};j=null;C=p;var Y=function(){c||(c=!0,A(K,function(b){setTimeout(b,0)}))};if("complete"===n.readyState)setTimeout(Y,0);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",Y,!1),m.addEventListener("load",Y,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",Y);m.attachEvent("onload",Y);x=!1;try{x=null===m.frameElement}catch(ia){}n.documentElement.doScroll&&
x&&setTimeout(function(){g(Y)},0)}x=function(){G.apply(this,arguments)};u=function(){G.apply(this,arguments)};s&&(u.node=function(){return r.apply(this,arguments)},s.plugin("scrollable",u));if(i){i.extend(i.fn,{scrollable:function(b){this.forEach(function(a){G(a,b)});return this},scrollableNode:function(){return $(this.map(function(){return r(this)}))}});var ca=i.fn.scrollTop,ea=i.fn.scrollLeft;i.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0],c=o(a);return c&&a._scrollTop?a._scrollTop():
ca?ca.apply(this,arguments):c?a.scrollTop:null}this.forEach(function(a){var c=o(a);c&&a._scrollTop?a._scrollTop(b):ca?ca.call(i(a),b):c&&(a.scrollTop=b)});return this};i.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0],c=o(a);return c&&a._scrollLeft?a._scrollLeft():ca?ea.apply(this,arguments):c?a.scrollLeft:null}this.forEach(function(a){var c=o(a);c&&a._scrollLeft?a._scrollLeft(b):ea?ea.call(i(a),b):c&&(a.scrollLeft=b)});return this}}if(t){t.fn.scrollable=function(b){this.each(function(){G(this,
b)});return this};t.fn.scrollableNode=function(){return $(this.map(function(){return r(this)}))};var ga=t.fn.scrollTop,ha=t.fn.scrollLeft;t.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollTop?a._scrollTop():ga.apply(this,arguments)}this.each(function(){o(this)&&this._scrollTop?this._scrollTop(b):ga.call(t(this),b)});return this};t.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollLeft?a._scrollLeft():ha.apply(this,arguments)}this.each(function(){o(this)&&
this._scrollLeft?this._scrollLeft(b):ha.call(t(this),b)});return this}}x.node=function(){return r.apply(this,arguments)};return x}(window,document,window.clik,window.Zepto,window.jQuery);
(function(m,n,s,i,t,o,A){function E(c){B=c;aa=w[B]}function g(c,e){e?c.setAttribute(q,e):e=c.getAttribute(q);"string"===typeof e&&0!==e.length&&(c.parentNode.removeChild(c),F[e]=c.cloneNode(!0))}function G(c){Array.prototype.forEach.call(c.querySelectorAll(".app-content"),function(c){c.getAttribute("data-no-scroll")||o(c)});Array.prototype.forEach.call(c.querySelectorAll("[data-scrollable]"),function(){o(content)})}function I(c,e){c.addEventListener("click",function(){function f(){g||(g=!0,c.disabled=
!1,c.className=c.className.replace(RegExp("\\b"+i+"\\b","g"),""))}var g=!1,i=c.getAttribute("data-clickable-class")||"active",j;c.disabled=!0;c.className+=" "+i;try{j=e(f)}catch(n){f()}!1===j&&f()},!1)}function r(h,f,i,X){function m(){R||G(q);M=!1;setTimeout(c,0);X()}if(M){if(+new Date>M+L){V.push(["load",h,f,i,X]);return}return!1}M=+new Date;if(!T){for(var D=n.getElementsByClassName(p),o=D.length;o--;)g(D[o]);if(D=/\bCPU.*OS (\d+(_\d+)?)/i.exec(navigator.userAgent))P="ios",S=parseFloat(D[1]),n.body.className+=
" "+Z,E(l);else if(D=/\bAndroid (\d+(\.\d+(\.\d+)?)?)/.exec(navigator.userAgent))P="android",S=parseFloat(D[1]),n.body.className+=" "+C,E(4<=S?z:da),"4.0.1"===D[1]&&(R=!0,E(x));k.platform=P;k.platformVersion=S;n.body.className+=" "+y}var O={},q;if(!(h in F))throw TypeError(h+" is not a known page");var w=F[h].cloneNode(!0),D=H[h]||[];u(w);Array.prototype.forEach.call(w.querySelectorAll(".app-button"),function(c){t(c);var h=c.getAttribute("data-target");c.getAttribute("data-back")?I(c,function(b){return K({},
b)}):h&&I(c,function(b){return r(h,{},{},b)})});D.forEach(function(c){c[0].call(O,w,f)});Array.prototype.forEach.call(w.querySelectorAll("img"),function(c){if(c.getAttribute("data-auto-load")){var h="android"===P?400:0,b=c.src;c.src="";s(c,b,h)}});R&&G(w);q=w;if(T){D=J;if((o=j(D))&&!o._iScroll)o=o._scrollTop(),(D||J).setAttribute("data-last-scroll",o+"");D=J;if((o=j(D))&&!o._iScroll){var A=o.style["-webkit-overflow-scrolling"]||"";o.style["-webkit-overflow-scrolling"]="";(D||J).setAttribute("data-scroll-style",
A)}var D={},B;for(B in i)D[B]=i[B];e(q,D,m)}else n.body.appendChild(q),setTimeout(m,0);T=h;J=q;Q.push([h,q,i,f,O])}function K(h,f){if(M){if(+new Date>M+L){V.push(["back",h,f]);return}return!1}if(2>Q.length)throw Error("navigation stack is empty");M=+new Date;var g=Q.pop(),i=Q[Q.length-1],n=i[0],l=i[1],i=g[2];u(l);Array.prototype.forEach.call(g[1].querySelectorAll("*"),function(c){c.style["-webkit-overflow-scrolling"]=""});var k=j(l);if(k&&!k._iScroll){var o=parseInt((l||J).getAttribute("data-last-scroll"));
o&&k._scrollTop(o)}var k={},m;for(m in i)k[m]=i[m];for(m in h)k[m]=h[m];e(l,k,function(){var h=j(l);if(h&&!h._iScroll){var e=(l||J).getAttribute("data-scroll-style")||"";h.style["-webkit-overflow-scrolling"]=e}setTimeout(c,0);var h=g[0],i=g[1],n=g[3],k=g[4];if(!(h in F))throw TypeError(h+" is not a known page");(H[h]||[]).forEach(function(b){b[1].call(k,i,n)});M=!1;f()},!0);T=n;J=l}function c(){if(0!==V.length){var c=V.shift();switch(c.shift()){case "load":r.apply(m,c);break;case "back":K.apply(m,
c)}}}function e(c,e,g,j){function k(){n.body.removeChild(o);g()}function l(){--v||(x(),y(),z(),m.appendChild(p),c.appendChild(t),i(m,c,"instant"),k())}var o=n.createElement("div");o.className="app-clickblocker";n.body.appendChild(o);var m=J;if(e.transition)j&&(e.transition=w[e.transition]||e.transition),i(m,c,e,k);else if(e.transition=j?aa:B,"ios"!==P||"slide-left"!==e.transition&&"slide-right"!==e.transition)i(m,c,e,k);else{var j=m.querySelector(".app-topbar"),p=m.querySelector(".app-content"),q=
m.querySelector(".app-topbar .app-title"),r=m.querySelector(".app-topbar .left.app-button"),u=m.querySelector(".app-topbar .right.app-button"),s=c.querySelector(".app-topbar"),t=c.querySelector(".app-content"),b=c.querySelector(".app-topbar .app-title"),a=c.querySelector(".app-topbar .left.app-button"),d=c.querySelector(".app-topbar .right.app-button");if(!j||!s||!p||!t)i(m,c,e,k);else{var v=4,x=f(j,s,q,b,e,l),y=f(j,s,r,a,e,l),z=f(j,s,u,d,e,l);i(p,t,e,l)}}}function f(c,e,f,g,j,k){var l=function(){};
if(f&&g)i(f,g,{easing:j.easing,duration:j.duration,transition:"fade"},k),l=function(){c.appendChild(f);e.appendChild(g)};else if(f){var m=n.createElement("div");m.className=f.className;m.innerHTML=f.innerHTML;m.style.visibility="hidden";i(f,m,{easing:j.easing,duration:j.duration,transition:"fade"},k);l=function(){c.removeChild(m);c.appendChild(f)}}else g?(m=n.createElement("div"),m.className=g.className,m.innerHTML=g.innerHTML,m.style.visibility="hidden",c.appendChild(m),i(m,g,{easing:j.easing,duration:j.duration,
transition:"fade"},k),l=function(){e.appendChild(g)}):setTimeout(k,0);return l}function j(c){if(c=c||J)if((c=c.querySelector(".app-content"))&&c._scrollable)return c}function u(c){var e=c.querySelector(".app-topbar");if(c=c.querySelector(".app-content")){var f=m.innerHeight;if(e){var e=n.defaultView.getComputedStyle(e,null),g="android"===P?48:44;e.height&&(g=parseInt(e.height)||0);c.style.height=f-g+"px"}else c.style.height=f+"px"}}var p="app-page",q="data-page",Z="app-ios",C="app-android",y="app-loaded",
L=300,l="slide-left",z="implode-out",x="instant",da="fade-on",w={instant:"instant",fade:"fade","fade-on":"fade-off","fade-off":"fade-on","scale-in":"scale-out","scale-out":"scale-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","implode-in":"implode-out","implode-out":"implode-in","slide-left":"slide-right","slide-right":"slide-left",
"slide-up":"slide-down","slide-down":"slide-up","slideon-left":"slideoff-left","slideon-right":"slideoff-right","slideon-up":"slideoff-up","slideon-down":"slideoff-down","slideoff-left":"slideon-left","slideoff-right":"slideon-right","slideoff-up":"slideon-up","slideoff-down":"slideon-down"},k={},F={},H={},Q=[],V=[],M=!1,R=!1,P,S,B,aa,T,J;k.platform=null;k.platformVersion=null;k.current=function(){return T};k.add=function(c,e){"string"!==typeof c&&(e=c,c=void 0);var f;a:if(e){try{f=e instanceof Node||
e instanceof HTMLElement;break a}catch(i){}f="object"!==typeof e||"number"!==typeof e.nodeType||"string"!==typeof e.nodeName?!1:!0}else f=!1;if(!f)throw TypeError("page template node must be a DOM node, got "+e);g(e,c)};k.populator=function(c,e,f){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);if("function"!==typeof e)throw TypeError("page populator must be a function, got "+e);switch(typeof f){case "undefined":f=function(){};break;case "function":break;default:throw TypeError("page unpopulator must be a function, got "+
f);}H[c]||(H[c]=[]);H[c].push([e,f])};k.load=function(c,e,f,g){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);switch(typeof e){case "function":g=e;e={};f={};break;case "undefined":e={};break;case "string":f=e;e={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+e);}switch(typeof f){case "function":g=f;f={};break;case "undefined":f={};break;case "string":f={transition:f};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+
f);}switch(typeof g){case "undefined":g=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+g);}r(c,e,f,g)};k.back=function(c,e){switch(typeof c){case "function":e=c;c={};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+c);}switch(typeof e){case "undefined":e=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+
e);}K(c,e)};k.setDefaultTransition=function(c){if(!(c in w))throw TypeError("invalid transition type, got "+c);E(c)};var W=function(){J&&u(J)};m.addEventListener("resize",W);m.addEventListener("load",W);A&&(A.plugin&&A.plugin.back)&&A.plugin.back(function(){if(1<Q.length)return k.back(),!1});m.App=k})(window,document,ImageLoader,Swapper,Clickable,Scrollable,window.clik);
