var ImageLoader=function(x,n,s,m){function B(h,n){h.style["-webkit-transition"]=n;h.style["-moz-transition"]=n;h.style["-ms-transition"]=n;h.style["-o-transition"]=n;h.style.transition=n}function o(h,m,o,q){function x(){g||(g=!0,G[m]=!0,h.src=m,h.style.opacity="1",setTimeout(function(){B(h,"");setTimeout(function(){h.style.opacity=u.opacity;h.style["-webkit-transition"]=u["-webkit-transition"];h.style["-moz-transition"]=u["-moz-transition"];h.style["-ms-transition"]=u["-ms-transition"];h.style["-o-transition"]=
u["-o-transition"];h.style.transition=u.transition;q()},0)},D),n.body.removeChild(p))}var d;a:if(h){try{d=h instanceof Node||h instanceof HTMLElement;break a}catch(e){}d="object"!==typeof h||"number"!==typeof h.nodeType||"string"!==typeof h.nodeName?!1:!0}else d=!1;if(!d)throw TypeError("image must be a DOM element, got "+h);if("string"!==typeof m)throw TypeError("url must be a string, got "+m);switch(typeof o){case "function":q=o;case "undefined":o=0;case "number":break;default:throw TypeError("minimum wait time must be a number if deinfed, got "+
o);}switch(typeof q){case "undefined":q=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+q);}if(!0===G[m])h.src=m;else{var g=!1,l=+new Date+(o||0),u={opacity:h.style.opacity,"-webkit-transition":h.style["-webkit-transition"],"-moz-transition":h.style["-moz-transition"],"-ms-transition":h.style["-ms-transition"],"-o-transition":h.style["-o-transition"],transition:h.style.transition};h.style.opacity="0";setTimeout(function(){B(h,"opacity "+D/
1E3+"s ease-in-out")},0);var p=new Image;p.style.opacity="0";p.style.position="fixed";p.style.top="-100%";p.style.left="-100%";p.style.height="1px";p.style.width="1px";n.body.appendChild(p);p.onload=function(){var e=+new Date;e>=l?x():setTimeout(x,l-e)};p.onerror=p.onload;p.src=m}}var D=300,G={};s&&s.extend(s.fn,{imageLoader:function(h,n,m){this.forEach(function(q){o(q,h,n,m)});return this}});m&&(m.fn.imageLoader=function(h,n,m){this.each(function(){o(this,h,n,m)});return this});return o}(window,
document,window.Zepto,window.jQuery),Swapper=function(x,n,s,m){function B(e,g){var d=g.parentNode;d.lastchild===g?d.appendChild(e):d.insertBefore(e,g.nextSibling)}function o(e){e.parentNode&&e.parentNode.removeChild(e)}function D(e,g){e.style["-webkit-transform"]=g;e.style["-moz-transform"]=g;e.style["-ms-transform"]=g;e.style["-o-transform"]=g;e.style.transform=g}function G(e,g){g?(e.style["-webkit-transition"]="-webkit-"+g,e.style["-moz-transition"]="-moz-"+g,e.style["-ms-transition"]="-ms-"+g,
e.style["-o-transition"]="-o-"+g,e.style.transition=g):(e.style["-webkit-transition"]="",e.style["-moz-transition"]="",e.style["-ms-transition"]="",e.style["-o-transition"]="",e.style.transition="")}function h(e,g){var d;d=g?e.style:n.defaultView.getComputedStyle(e,null);return{display:d.display,opacity:d.opacity,top:d.top,left:d.left,height:d.height,width:d.width,position:d.position}}function t(e){var d;a:if(e){try{d=e instanceof Node||e instanceof HTMLElement;break a}catch(h){}d="object"!==typeof e||
"number"!==typeof e.nodeType||"string"!==typeof e.nodeName?!1:!0}else d=!1;if(!d)throw TypeError("element must be a DOM node, got "+e);}function C(e,g,l,m){function p(){j.addEventListener("webkitTransitionEnd",r,!1);j.addEventListener("transitionend",r,!1);j.addEventListener("oTransitionEnd",r,!1);j.addEventListener("otransitionend",r,!1);j.addEventListener("MSTransitionEnd",r,!1);j.addEventListener("transitionend",r,!1)}function r(){E||(E=!0,j&&(j.removeEventListener("webkitTransitionEnd",r),j.removeEventListener("transitionend",
r),j.removeEventListener("oTransitionEnd",r),j.removeEventListener("otransitionend",r),j.removeEventListener("MSTransitionEnd",r),j.removeEventListener("transitionend",r)),o(e),G(e,""),G(g,""),setTimeout(function(){D(e,"");D(g,"");v[0].fade&&(g.style.opacity=s.opacity);v[1].fade&&(e.style.opacity=z.opacity);g.style.position=s.position;g.style.top=s.top;g.style.left=s.left;g.style.height=s.height;g.style.width=s.width;e._swapper=!1;g._swapper=!1;m()},0))}t(e);t(g);"function"===typeof l&&(m=l,l={});
switch(typeof l){case "string":l={transition:l};break;case "undefined":l={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+l);}switch(typeof l.transition){case "string":if(!(l.transition in K)&&"instant"!==l.transition)throw TypeError(l.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+l.transition);}switch(typeof l.duration){case "number":if(0>l.duration)throw TypeError("duration must be a non-negative integer, got "+
l.duration);break;case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+l.duration);}switch(typeof l.easing){case "string":if(!(l.easing in d))throw TypeError(l.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+l.easing);}var F=m;switch(typeof F){case "undefined":F=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+F);}m=
F;if(e._swapper)throw Error("elem1 is currently being swapped");if(g._swapper)throw Error("elem2 is currently being swapped");a:{for(F=e;F=F.parentNode;)if(F===n){F=!0;break a}F=!1}if(!F)throw Error("elem1 must be in the DOM to be swapped");e._swapper=!0;g._swapper=!0;o(g);if("instant"===l.transition)B(g,e),o(e),e._swapper=!1,g._swapper=!1,setTimeout(function(){m()},0);else{var v=K[l.transition||"fade"],y=d[l.easing||"ease-in-out"],x=l.duration||300;B(g,e);var l=e.getBoundingClientRect(),i=h(e),A=
h(g),z=h(e,!0),s=h(g,!0);"none"!==i.display&&(g.style.position="fixed",g.style.top=l.top+"px",g.style.left=l.left+"px");g.style.height=A.height||i.height;g.style.width=A.width||i.width;v[2]&&e.parentNode.insertBefore(g,e);D(e,q);D(g,v[0].transform||q);v[0].fade&&(g.style.opacity="0");v[1].fade&&(e.style.opacity="1");setTimeout(function(){var d="transform "+x/1E3+"s "+y+", opacity "+x/1E3+"s "+y;G(e,d);G(g,d);setTimeout(function(){D(e,v[1].transform||q);D(g,q);v[0].fade&&(g.style.opacity="1");v[1].fade&&
(e.style.opacity="0");"none"!==A.display&&(v[0].fade||v[0].transform&&v[0].transform!==q)?(j=g,p()):"none"!==i.display&&(v[1].fade||v[1].transform&&v[1].transform!==q)?(j=e,p()):setTimeout(r,x)},0)},0);var E=!1,j}}var q="translate3d(0,0,0) scale(1)";/\bandroid\b/i.test(navigator.userAgent);var K={fade:[{fade:!0},{fade:!0}],"fade-on":[{fade:!0},{}],"fade-off":[{},{fade:!0},!0],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{},{transform:"scale(0.01)"},!0],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",
fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],
"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},{}],"explode-out":[{},{fade:!0,transform:"scale(1.25)"},!0],"implode-in":[{},{fade:!0,transform:"scale(0.60)"},!0],"implode-out":[{fade:!0,transform:"scale(0.80)"},
{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}],"slideon-left":[{transform:"translate3d(-100%,0,0)"},{}],"slideoff-left":[{},{transform:"translate3d(-100%,0,0)"},!0],"slideon-right":[{transform:"translate3d(100%,0,0)"},
{}],"slideoff-right":[{},{transform:"translate3d(100%,0,0)"},!0],"slideon-up":[{transform:"translate3d(0,-100%,0)"},{}],"slideoff-up":[{},{transform:"translate3d(0,-100%,0)"},!0],"slideon-down":[{transform:"translate3d(0,100%,0)"},{}],"slideoff-down":[{},{transform:"translate3d(0,100%,0)"},!0]},d={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};s&&s.extend(s.fn,{swapper:function(d,g,h){d=s(d)[0];this.forEach(function(m){C(m,
d,g,h)});return this}});m&&(m.fn.swapper=function(d,g,h){d=m(d)[0];this.each(function(){C(this,d,g,h)});return this});return C}(window,document,window.Zepto,window.jQuery),Clickable=function(x,n,s,m,B){function o(d,e){function g(){d.addEventListener("touchstart",y,!1);d.addEventListener("touchmove",s,!1);d.addEventListener("touchend",i,!1);d.addEventListener("touchcancel",s,!1)}function m(){d.removeEventListener("touchstart",y);d.removeEventListener("touchmove",s);d.removeEventListener("touchend",
i);d.removeEventListener("touchcancel",s)}function o(){var e=d,g;g=d.className.replace(E,"");g=String(g).replace(D,"");e.className=g}function p(d,e){do{if(d===e)return!0;if(d._clickable)break}while(d=d.parentNode);return!1}function r(g){t=!1;d.disabled||!p(g.target,d)?(g.preventDefault(),j=!1):(j=!0,d.className+=" "+e)}function q(d){d.preventDefault();t=j=!1;o()}function v(e){d.disabled?(e.preventDefault(),t=j=!1):(j?t=!0:(e.preventDefault(),t=!1),j=!1,o())}function y(g){t=!1;if(d.disabled||!p(g.target,
d))j=!1;else{j=!0;var h=C=+new Date;setTimeout(function(){j&&h===C&&(d.className+=" "+e)},G)}}function s(){j=t=!1;d.disabled||o()}function i(g){function h(){t=!0;var e=n.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,x,1,0,0,0,0,!1,!1,!1,!1,0,null);d.dispatchEvent(e)}var i=j;s();i&&!d.disabled&&(g.stopImmediatePropagation?+new Date-C>G?h():(d.className+=" "+e,setTimeout(function(){o();h()},1)):t=!0)}function A(e){e=e||x.event;if(!d.disabled&&t)t=!1;else return e.stopImmediatePropagation&&
e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1}var z;a:if(d){try{z=d instanceof Node||d instanceof HTMLElement;break a}catch(B){}z="object"!==typeof d||"number"!==typeof d.nodeType||"string"!==typeof d.nodeName?!1:!0}else z=!1;if(!z)throw TypeError("element "+d+" must be a DOM element");if(!d._clickable){d._clickable=!0;switch(typeof e){case "undefined":e="active";case "string":break;default:throw TypeError("active class "+e+" must be a string");
}d.setAttribute("data-clickable-class",e);var E=RegExp("\\b"+e+"\\b"),j=!1,t=!1,C;if(h.ios||h.android)if(d.style["-webkit-tap-highlight-color"]="rgba(255,255,255,0)",d.addEventListener("click",A,!1),h.ios){d.addEventListener("DOMNodeInsertedIntoDocument",g,!1);d.addEventListener("DOMNodeRemovedFromDocument",m,!1);a:{for(z=d;z=z.parentNode;)if(z===n){z=!0;break a}z=!1}z&&g()}else g();else d.addEventListener?(d.addEventListener("mousedown",r,!1),d.addEventListener("mousemove",q,!1),d.addEventListener("mouseout",
q,!1),d.addEventListener("mouseup",v,!1),d.addEventListener("click",A,!1)):d.attachEvent&&(d.attachEvent("onmousedown",r),d.attachEvent("onmousemove",q),d.attachEvent("onmouseout",q),d.attachEvent("onmouseup",v),d.attachEvent("onclick",A))}}var D=/^\s+|\s+$/g,G=40,h,t=x.navigator.userAgent,C,q,K;if(K=/\bCPU.*OS (\d+(_\d+)?)/i.exec(t))C="ios",q=K[1].replace("_",".");else if(K=/\bAndroid (\d+(\.\d+)?)/.exec(t))C="android",q=K[1];t={name:C,version:q&&x.parseFloat(q)};t[C]=!0;h=t;C=function(){o.apply(this,
arguments)};s&&s.plugin("clickable",function(){o.apply(this,arguments)});m&&m.extend(m.fn,{clickable:function(d){this.forEach(function(e){o(e,d)});return this}});B&&(B.fn.clickable=function(d){this.each(function(){o(this,d)});return this});C.touchable=function(){return h.ios||h.android};return C}(window,document,window.clik,window.Zepto,window.jQuery),Scrollable=function(x,n,s,m,B){function o(b){if(!b)return!1;try{return b instanceof Node||b instanceof HTMLElement}catch(a){}return"object"!==typeof b||
"number"!==typeof b.nodeType||"string"!==typeof b.nodeName?!1:!0}function D(b,a,f){if(Array.prototype.forEach)Array.prototype.forEach.call(b,a,f);else for(var c=0,d=b.length;c<d;c++)c in b&&a.call(f,b[c],c,b)}function G(b){d?setTimeout(b,0):K.push(b)}function h(b){try{n.documentElement.doScroll("left")}catch(a){setTimeout(function(){h(b)},1);return}b()}function t(b,a){function f(){var a=b._scrollTop(),f=b._scrollLeft();a===M&&f===h||(M=a,h=f,b.dispatchEvent&&(a=n.createEvent("MouseEvents"),a.initMouseEvent("scroll",
!1,!1,x,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(a)))}if(!o(b))throw b+" is not a DOM element";if(!b._scrollable){b._scrollable=!0;b.style.overflow="scroll";b._scrollTop=function(a){if("undefined"===typeof a)return k?Math.max(parseInt(-k.y),0):b.scrollTop;!k&&(!F||e)?b.scrollTop=a:G(function(){k.scrollTo(k.x,Math.min(-a,0),1)})};b._scrollLeft=function(a){if("undefined"===typeof a)return k?Math.max(parseInt(-k.x),0):b.scrollLeft;!k&&(!F||e)?b.scrollLeft=a:G(function(){k.scrollTo(Math.min(-a,0),
k.y,1)})};if(!a){if(!F)return;if(e){b.style["-webkit-overflow-scrolling"]="touch";return}}var c=n.createElement("div"),d=Array.prototype.slice.call(b.childNodes||[]);D(d,function(a){a=b.removeChild(a);c.appendChild(a)});b.appendChild(c);var k,M,h;b._iScroll=!0;G(function(){k=new v(b,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,hScrollbar:!1,vScrollbar:!1,bounce:!!g.ios,onScrollMove:f,onBeforeScrollEnd:f,onScrollEnd:f,onBeforeScrollStart:C})})}}function C(b){for(var a=b.target;1!==a.nodeType;)a=
a.parentNode;"SELECT"!==a.tagName&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&b.preventDefault()}function q(b){return o(b)&&b._iScroll?b.childNodes[0]:b}var K=[],d=!1,e=!1,g,l=navigator.userAgent,u,p,r;if(r=/\bCPU.*OS (\d+(_\d+)?)/i.exec(l))u="ios",p=r[1].replace("_",".");else if(r=/\bAndroid (\d+(\.\d+)?)/.exec(l))u="android",p=r[1];l={name:u,version:p&&x.parseFloat(p)};l[u]=!0;g=l;var F=!!g.name,v;if(g.ios&&5<=g.version||g.android&&4<=g.version)e=!0;var y=x,W=n;u=function(b){if(""===A)return b;
b=b.charAt(0).toUpperCase()+b.substr(1);return A+b};var i=Math,l=W.createElement("div").style,A;a:{p=["t","webkitT","MozT","msT","OT"];var z;r=0;for(var ca=p.length;r<ca;r++)if(z=p[r]+"ransform",z in l){A=p[r].substr(0,p[r].length-1);break a}A=!1}var E=A?"-"+A.toLowerCase()+"-":"",j=u("transform"),da=u("transitionProperty"),Q=u("transitionDuration"),Z=u("transformOrigin"),I=u("transitionTimingFunction"),T=u("transitionDelay"),R=/android/gi.test(navigator.appVersion),L=/iphone|ipad/gi.test(navigator.appVersion);
p=/hp-tablet/gi.test(navigator.appVersion);var X=u("perspective")in l,H="ontouchstart"in y&&!p,aa=!!A,Y=u("transition")in l,N="onorientationchange"in y?"orientationchange":"resize",U=H?"touchstart":"mousedown",S=H?"touchmove":"mousemove",V=H?"touchend":"mouseup",O=H?"touchcancel":"mouseup",J="Moz"==A?"DOMMouseScroll":"mousewheel",P;P=!1===A?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[A];var c=y.requestAnimationFrame||y.webkitRequestAnimationFrame||
y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(b){return setTimeout(b,1)},k=y.cancelRequestAnimationFrame||y.webkitCancelAnimationFrame||y.webkitCancelRequestAnimationFrame||y.mozCancelRequestAnimationFrame||y.oCancelRequestAnimationFrame||y.msCancelRequestAnimationFrame||clearTimeout,M=X?" translateZ(0)":"";p=function(b,a){var f=this,c;f.wrapper="object"==typeof b?b:W.getElementById(b);f.wrapper.style.overflow="hidden";f.scroller=f.wrapper.children[0];f.options=
{hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:R,hideScrollbar:L,fadeScrollbar:L&&X,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,
onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in a)f.options[c]=a[c];f.x=f.options.x;f.y=f.options.y;f.options.useTransform=aa&&f.options.useTransform;f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar;f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar;f.options.zoom=f.options.useTransform&&f.options.zoom;f.options.useTransition=Y&&f.options.useTransition;f.options.zoom&&R&&(M="");f.scroller.style[da]=f.options.useTransform?
E+"transform":"top left";f.scroller.style[Q]="0";f.scroller.style[Z]="0 0";f.options.useTransition&&(f.scroller.style[I]="cubic-bezier(0.33,0.66,0.66,1)");f.options.useTransform?f.scroller.style[j]="translate("+f.x+"px,"+f.y+"px)"+M:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px";f.options.useTransition&&(f.options.fixedScrollbar=!0);f.refresh();f._bind(N,y);f._bind(U);H||(f._bind("mouseout",f.wrapper),"none"!=f.options.wheelAction&&f._bind(J));f.options.checkDOMChanges&&
(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};p.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case U:if(!H&&0!==b.button)break;this._start(b);break;case S:this._move(b);break;case V:case O:this._end(b);break;case N:this._resize();break;case J:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case P:this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&
!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(a=W.createElement("div"),this.options.scrollbarClass?a.className=this.options.scrollbarClass+b.toUpperCase():a.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?
"7":"2")+"px;top:2px;right:1px"),a.style.cssText+=";pointer-events:none;"+E+"transition-property:opacity;"+E+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(a),this[b+"ScrollbarWrapper"]=a,a=W.createElement("div"),this.options.scrollbarClass||(a.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+E+"background-clip:padding-box;"+E+"box-sizing:border-box;"+
("h"==b?"height:100%":"width:100%")+";"+E+"border-radius:3px;border-radius:3px"),a.style.cssText+=";pointer-events:none;"+E+"transition-property:"+E+"transform;"+E+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+E+"transition-duration:0;"+E+"transform: translate(0,0)"+M,this.options.useTransition&&(a.style.cssText+=";"+E+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(a),this[b+"ScrollbarIndicator"]=a),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,
this.hScrollbarIndicatorSize=i.max(i.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=i.max(i.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=
this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(aa&&(this[b+"ScrollbarIndicator"].style[j]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},R?200:0)},_pos:function(b,
a){this.zoomed||(b=this.hScroll?b:0,a=this.vScroll?a:0,this.options.useTransform?this.scroller.style[j]="translate("+b+"px,"+a+"px) scale("+this.scale+")"+M:(b=i.round(b),a=i.round(a),this.scroller.style.left=b+"px",this.scroller.style.top=a+"px"),this.x=b,this.y=a,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(b,a){var f="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(f*=this[b+"ScrollbarProp"],0>f?(this.options.fixedScrollbar||(f=this[b+"ScrollbarIndicatorSize"]+i.round(3*f),
8>f&&(f=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=f+"px"),f=0):f>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?f=this[b+"ScrollbarMaxScroll"]:(f=this[b+"ScrollbarIndicatorSize"]-i.round(3*(f-this[b+"ScrollbarMaxScroll"])),8>f&&(f=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=f+"px",f=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-f))),this[b+"ScrollbarWrapper"].style[T]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?
"0":"1",this[b+"ScrollbarIndicator"].style[j]="translate("+("h"==b?f+"px,0)":"0,"+f+"px)")+M)},_start:function(b){var a=H?b.touches[0]:b,f,c;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&H&&1<b.touches.length&&(c=i.abs(b.touches[0].pageX-b.touches[1].pageX),
f=i.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=i.sqrt(c*c+f*f),this.originX=i.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=i.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&(this.options.useTransform?(f=getComputedStyle(this.scroller,null)[j].replace(/[^0-9\-.,]/g,"").split(","),c=1*f[4],f=1*f[5]):(c=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),f=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),c!=this.x||f!=this.y))this.options.useTransition?this._unbind(P):k(this.aniTime),this.steps=[],this._pos(c,f);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(S);this._bind(V);this._bind(O)}},_move:function(b){var a=
H?b.touches[0]:b,f=a.pageX-this.pointX,c=a.pageY-this.pointY,d=this.x+f,k=this.y+c,e=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&H&&1<b.touches.length)d=i.abs(b.touches[0].pageX-b.touches[1].pageX),k=i.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=i.sqrt(d*d+k*k),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):
a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,d=this.originX-this.originX*this.lastScale+this.x,k=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[j]="translate("+d+"px,"+k+"px) scale("+a+")"+M,this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<d||d<this.maxScrollX)d=this.options.bounce?this.x+f/2:0<=d||0<=this.maxScrollX?0:this.maxScrollX;if(k>this.minScrollY||
k<this.maxScrollY)k=this.options.bounce?this.y+c/2:k>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=f;this.distY+=c;this.absDistX=i.abs(this.distX);this.absDistY=i.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(k=this.y,c=0):this.absDistY>this.absDistX+5&&(d=this.x,f=0)),this.moved=!0,this._pos(d,k),this.dirX=0<f?-1:0>f?1:0,this.dirY=0<c?-1:0>c?1:0,300<e-this.startTime&&(this.startTime=e,this.startX=
this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(H&&0!==b.touches.length)){var a=this,f=H?b.changedTouches[0]:b,c,d,k={dist:0,time:0},e={dist:0,time:0},g=(b.timeStamp||Date.now())-a.startTime,h=a.x,w=a.y;a._unbind(S);a._unbind(V);a._unbind(O);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)h=a.scale*a.lastScale,h=Math.max(a.options.zoomMin,h),h=Math.min(a.options.zoomMax,h),a.lastScale=h/a.scale,a.scale=
h,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[Q]="200ms",a.scroller.style[j]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+M,a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(300>g&&a.options.momentum){k=h?a._momentum(h-a.startX,g,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):k;e=w?a._momentum(w-a.startY,g,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?
a.wrapperH:0):e;h=a.x+k.dist;w=a.y+e.dist;if(0<a.x&&0<h||a.x<a.maxScrollX&&h<a.maxScrollX)k={dist:0,time:0};if(a.y>a.minScrollY&&w>a.minScrollY||a.y<a.maxScrollY&&w<a.maxScrollY)e={dist:0,time:0}}k.dist||e.dist?(k=i.max(i.max(k.time,e.time),10),a.options.snap&&(e=h-a.absStartX,g=w-a.absStartY,i.abs(e)<a.options.snapThreshold&&i.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(e=a._snap(h,w),h=e.x,w=e.y,k=i.max(e.time,k))),a.scrollTo(i.round(h),i.round(w),k)):a.options.snap?
(e=h-a.absStartX,g=w-a.absStartY,i.abs(e)<a.options.snapThreshold&&i.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(e=a._snap(a.x,a.y),(e.x!=a.x||e.y!=a.y)&&a.scrollTo(e.x,e.y,e.time))):a._resetPos(200)}else H&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,
b)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(c=f.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(d=W.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,b.view,1,f.screenX,f.screenY,f.clientX,f.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),d._fake=!0,c.dispatchEvent(d))},a.options.zoom?250:0))),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=
0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,f=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&f==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==A&&(this.hScrollbarWrapper.style[T]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==A&&(this.vScrollbarWrapper.style[T]=
"300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,f,b||0)},_wheel:function(b){var a=this,f,c;if("wheelDeltaX"in b)f=b.wheelDeltaX/12,c=b.wheelDeltaY/12;else if("wheelDelta"in b)f=c=b.wheelDelta/12;else if("detail"in b)f=c=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(c=a.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<a.options.zoomMin&&(c=a.options.zoomMin),c>a.options.zoomMax&&(c=a.options.zoomMax),c!=a.scale)!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,
b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,c,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else f=a.x+f,c=a.y+c,0<f?f=0:f<a.maxScrollX&&(f=a.maxScrollX),c>a.minScrollY?c=a.minScrollY:c<a.maxScrollY&&(c=a.maxScrollY),0>a.maxScrollY&&a.scrollTo(f,c,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind(P),
this._startAni())},_startAni:function(){var b=this,a=b.x,f=b.y,k=Date.now(),d,e,g;b.animating||(b.steps.length?(d=b.steps.shift(),d.x==a&&d.y==f&&(d.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(d.time),b._pos(d.x,d.y),b.animating=!1,d.time?b._bind(P):b._resetPos(0)):(g=function(){var h=Date.now(),w;h>=k+d.time?(b._pos(d.x,d.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(h=(h-k)/d.time-1,e=i.sqrt(1-h*h),h=(d.x-a)*e+a,w=
(d.y-f)*e+f,b._pos(h,w),b.animating&&(b.aniTime=c(g)))},g()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[Q]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[Q]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[Q]=b)},_momentum:function(b,a,f,c,d){var a=i.abs(b)/a,k=a*a/0.0012;0<b&&k>f?(f+=d/(6/(6E-4*(k/a))),a=a*f/k,k=f):0>b&&k>c&&(c+=d/(6/(6E-4*(k/a))),a=a*c/k,k=c);return{dist:k*(0>b?-1:1),time:i.round(a/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,f=-b.offsetTop;b=
b.offsetParent;)a-=b.offsetLeft,f-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,f*=this.scale);return{left:a,top:f}},_snap:function(b,a){var f,c,d;d=this.pagesX.length-1;f=0;for(c=this.pagesX.length;f<c;f++)if(b>=this.pagesX[f]){d=f;break}d==this.currPageX&&0<d&&0>this.dirX&&d--;b=this.pagesX[d];c=(c=i.abs(b-this.pagesX[this.currPageX]))?500*(i.abs(this.x-b)/c):0;this.currPageX=d;d=this.pagesY.length-1;for(f=0;f<d;f++)if(a>=this.pagesY[f]){d=f;break}d==this.currPageY&&0<d&&0>this.dirY&&d--;a=this.pagesY[d];
f=(f=i.abs(a-this.pagesY[this.currPageY]))?500*(i.abs(this.y-a)/f):0;this.currPageY=d;d=i.round(i.max(c,f))||200;return{x:b,y:a,time:d}},_bind:function(b,a,f){(a||this.scroller).addEventListener(b,this,!!f)},_unbind:function(b,a,f){(a||this.scroller).removeEventListener(b,this,!!f)},destroy:function(){this.scroller.style[j]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(N,y);this._unbind(U);this._unbind(S);this._unbind(V);this._unbind(O);this.options.hasTouch||
(this._unbind("mouseout",this.wrapper),this._unbind(J));this.options.useTransition&&this._unbind(P);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,a,f,c=0;a=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=i.round(this.scroller.offsetWidth*
this.scale);this.scrollerH=i.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=
this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];f=this.scroller.querySelectorAll(this.options.snap);b=0;for(a=f.length;b<a;b++)c=this._offset(f[b]),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[b]=c.left<this.maxScrollX?this.maxScrollX:c.left*this.scale,this.pagesY[b]=c.top<this.maxScrollY?this.maxScrollY:
c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[a]=c,c-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);a=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[a]=c,c-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");
this._scrollbar("v");this.zoomed||(this.scroller.style[Q]="0",this._resetPos(200))},scrollTo:function(b,a,c,d){var k=b;this.stop();k.length||(k=[{x:b,y:a,time:c,relative:d}]);b=0;for(a=k.length;b<a;b++)k[b].relative&&(k[b].x=this.x-k[b].x,k[b].y=this.y-k[b].y),this.steps.push({x:k[b].x,y:k[b].y,time:k[b].time||0});this._startAni()},scrollToElement:function(b,a){var c;if(b=b.nodeType?b:this.scroller.querySelector(b))c=this._offset(b),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=
0<c.left?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=c.top>this.minScrollY?this.minScrollY:c.top<this.maxScrollY?this.maxScrollY:c.top,a=void 0===a?i.max(2*i.abs(c.left),2*i.abs(c.top)):a,this.scrollTo(c.left,c.top,a)},scrollToPage:function(b,a,c){c=void 0===c?400:c;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-
1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY)a=this.maxScrollY;this.scrollTo(b,a,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(S);this._unbind(V);this._unbind(O)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(P):k(this.aniTime);
this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,c,d){var k=c/this.scale;this.options.useTransform&&(this.zoomed=!0,d=void 0===d?200:d,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*k+this.x,this.y=a-a*k+this.y,this.scale=c,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[Q]=d+"ms",this.scroller.style[j]="translate("+
this.x+"px,"+this.y+"px) scale("+c+")"+M,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};l=null;v=p;var w=function(){d||(d=!0,D(K,function(b){setTimeout(b,0)}))};if("complete"===n.readyState)setTimeout(w,0);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",w,!1),x.addEventListener("load",w,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",w);x.attachEvent("onload",w);z=!1;try{z=null===x.frameElement}catch(ha){}n.documentElement.doScroll&&
z&&setTimeout(function(){h(w)},0)}z=function(){t.apply(this,arguments)};u=function(){t.apply(this,arguments)};s&&(u.node=function(){return q.apply(this,arguments)},s.plugin("scrollable",u));if(m){m.extend(m.fn,{scrollable:function(b){this.forEach(function(a){t(a,b)});return this},scrollableNode:function(){return $(this.map(function(){return q(this)}))}});var ba=m.fn.scrollTop,ea=m.fn.scrollLeft;m.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0],c=o(a);return c&&a._scrollTop?a._scrollTop():
ba?ba.apply(this,arguments):c?a.scrollTop:null}this.forEach(function(a){var c=o(a);c&&a._scrollTop?a._scrollTop(b):ba?ba.call(m(a),b):c&&(a.scrollTop=b)});return this};m.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0],c=o(a);return c&&a._scrollLeft?a._scrollLeft():ba?ea.apply(this,arguments):c?a.scrollLeft:null}this.forEach(function(a){var c=o(a);c&&a._scrollLeft?a._scrollLeft(b):ea?ea.call(m(a),b):c&&(a.scrollLeft=b)});return this}}if(B){B.fn.scrollable=function(b){this.each(function(){t(this,
b)});return this};B.fn.scrollableNode=function(){return $(this.map(function(){return q(this)}))};var fa=B.fn.scrollTop,ga=B.fn.scrollLeft;B.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollTop?a._scrollTop():fa.apply(this,arguments)}this.each(function(){o(this)&&this._scrollTop?this._scrollTop(b):fa.call(B(this),b)});return this};B.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollLeft?a._scrollLeft():ga.apply(this,arguments)}this.each(function(){o(this)&&
this._scrollLeft?this._scrollLeft(b):ga.call(B(this),b)});return this}}z.node=function(){return q.apply(this,arguments)};return z}(window,document,window.clik,window.Zepto,window.jQuery);
(function(x,n,s,m,B,o,D){function G(c){return Array.isArray?Array.isArray(c):"[object Array]"!==Object.prototype.toString.call(c)}function h(c){S=c;V=Z[S]}function t(c,d){d?c.setAttribute(i,d):d=c.getAttribute(i);"string"===typeof d&&0!==d.length&&(c.parentNode.removeChild(c),T[d]=c.cloneNode(!0))}function C(c,d,g){if(!aa){aa=!0;for(var w=n.getElementsByClassName(W),i=w.length;i--;)t(w[i]);if(w=/\bCPU.*OS (\d+(_\d+)?)/i.exec(navigator.userAgent))N="ios",U=parseFloat(w[1]),n.body.className+=" "+A,
h(E);else if(w=/\bAndroid (\d+(\.\d+(\.\d+)?)?)/.exec(navigator.userAgent))N="android",U=parseFloat(w[1]),n.body.className+=" "+z,h(4<=U?j:Q),"4.0.1"===w[1]&&(Y=!0,h(da));I.platform=N;I.platformVersion=U;n.body.className+=" "+ca}if(!(c in T))throw TypeError(c+" is not a known page");var m=T[c].cloneNode(!0),c=R[c]||[];y(m);Array.prototype.forEach.call(m.querySelectorAll(".app-button"),function(c){B(c);var d=c.getAttribute("data-target");c.getAttribute("data-back")?e(c,function(c){return u({},c)}):
d&&e(c,function(c){return l(d,{},{},c)})});c.forEach(function(c){c[0].call(g,m,d)});Array.prototype.forEach.call(m.querySelectorAll("img"),function(c){if(c.getAttribute("data-auto-load")){var d="android"===N?400:0,k=c.src;c.src="";s(c,k,d)}});Y&&q(m);return m}function q(c){Array.prototype.forEach.call(c.querySelectorAll(".app-content"),function(c){c.getAttribute("data-no-scroll")||o(c)});Array.prototype.forEach.call(c.querySelectorAll("[data-scrollable]"),function(){o(content)})}function K(c,d){Array.prototype.forEach.call(d.querySelectorAll("*"),
function(c){c.style["-webkit-overflow-scrolling"]=""})}function d(c,d,e,g){if(!(c in T))throw TypeError(c+" is not a known page");(R[c]||[]).forEach(function(c){c[1].call(g,d,e)})}function e(c,d){c.addEventListener("click",function(){function e(){g||(g=!0,c.disabled=!1,c.className=c.className.replace(RegExp("\\b"+h+"\\b","g"),""))}var g=!1,h=c.getAttribute("data-clickable-class")||"active",m;c.disabled=!0;c.className+=" "+h;try{m=d(e)}catch(i){e()}!1===m&&e()},!1)}function g(c){H?X.push(c):(H=!0,
c(function(){H=!1;setTimeout(p,0)}))}function l(c,d,e,h){g(function(g){function m(){Y||q(l);g();h()}var i={},l=C(c,d,i);if(O){var j=J,b=v(j);b&&!b._iScroll&&(b=b._scrollTop(),(j||J).setAttribute("data-last-scroll",b+""));j=J;if((b=v(j))&&!b._iScroll){var a=b.style["-webkit-overflow-scrolling"]||"";b.style["-webkit-overflow-scrolling"]="";(j||J).setAttribute("data-scroll-style",a)}var j={},f;for(f in e)j[f]=e[f];r(l,j,m)}else n.body.appendChild(l),setTimeout(m,0);O=c;J=l;L.push([c,l,e,d,i])})}function u(c,
k){g(function(e){if(2>L.length)e();else{var g=L.pop(),h=L[L.length-1],m=h[0],i=h[1],h=g[2];y(i);K(g[0],g[1],g[3],g[4]);var l=v(i);if(l&&!l._iScroll){var j=parseInt((i||J).getAttribute("data-last-scroll"));j&&l._scrollTop(j)}var l={},b;for(b in h)l[b]=h[b];for(b in c)l[b]=c[b];r(i,l,function(){var a=v(i);if(a&&!a._iScroll){var b=(i||J).getAttribute("data-scroll-style")||"";a.style["-webkit-overflow-scrolling"]=b}d(g[0],g[1],g[3],g[4]);e();k()},!0);O=m;J=i}})}function p(){X.length&&g(X.shift())}function r(c,
d,e,g){function h(){n.body.removeChild(l);e()}function i(){--u||(v(),x(),y(),j.appendChild(o),c.appendChild(q),m(j,c,"instant"),h())}var l=n.createElement("div");l.className="app-clickblocker";n.body.appendChild(l);var j=J;if(d.transition)g&&(d.transition=Z[d.transition]||d.transition),m(j,c,d,h);else if(d.transition=g?V:S,"ios"!==N||"slide-left"!==d.transition&&"slide-right"!==d.transition)m(j,c,d,h);else{var g=j.querySelector(".app-topbar"),o=j.querySelector(".app-content"),b=j.querySelector(".app-topbar .app-title"),
a=j.querySelector(".app-topbar .left.app-button"),f=j.querySelector(".app-topbar .right.app-button"),p=c.querySelector(".app-topbar"),q=c.querySelector(".app-content"),r=c.querySelector(".app-topbar .app-title"),s=c.querySelector(".app-topbar .left.app-button"),t=c.querySelector(".app-topbar .right.app-button");if(!g||!p||!o||!q)m(j,c,d,h);else{var u=4,v=F(g,p,b,r,d,i),x=F(g,p,a,s,d,i),y=F(g,p,f,t,d,i);m(o,q,d,i)}}}function F(c,d,e,g,h,i){var l=function(){};if(e&&g)m(e,g,{easing:h.easing,duration:h.duration,
transition:"fade"},i),l=function(){c.appendChild(e);d.appendChild(g)};else if(e){var j=n.createElement("div");j.className=e.className;j.innerHTML=e.innerHTML;j.style.visibility="hidden";m(e,j,{easing:h.easing,duration:h.duration,transition:"fade"},i);l=function(){c.removeChild(j);c.appendChild(e)}}else g?(j=n.createElement("div"),j.className=g.className,j.innerHTML=g.innerHTML,j.style.visibility="hidden",c.appendChild(j),m(j,g,{easing:h.easing,duration:h.duration,transition:"fade"},i),l=function(){d.appendChild(g)}):
setTimeout(i,0);return l}function v(c){if(c=c||J)if((c=c.querySelector(".app-content"))&&c._scrollable)return c}function y(c){var d=c.querySelector(".app-topbar");if(c=c.querySelector(".app-content")){var e=x.innerHeight;if(d){var d=n.defaultView.getComputedStyle(d,null),g="android"===N?48:44;d.height&&(g=parseInt(d.height)||0);c.style.height=e-g+"px"}else c.style.height=e+"px"}}var W="app-page",i="data-page",A="app-ios",z="app-android",ca="app-loaded",E="slide-left",j="implode-out",da="instant",
Q="fade-on",Z={instant:"instant",fade:"fade","fade-on":"fade-off","fade-off":"fade-on","scale-in":"scale-out","scale-out":"scale-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","implode-in":"implode-out","implode-out":"implode-in","slide-left":"slide-right","slide-right":"slide-left","slide-up":"slide-down","slide-down":"slide-up",
"slideon-left":"slideoff-left","slideon-right":"slideoff-right","slideon-up":"slideoff-up","slideon-down":"slideoff-down","slideoff-left":"slideon-left","slideoff-right":"slideon-right","slideoff-up":"slideon-up","slideoff-down":"slideon-down"},I={},T={},R={},L=[],X=[],H=!1,aa=!1,Y=!1,N,U,S,V,O,J;I.platform=null;I.platformVersion=null;I.current=function(){return O};I.add=function(c,d){"string"!==typeof c&&(d=c,c=void 0);var e;a:if(d){try{e=d instanceof Node||d instanceof HTMLElement;break a}catch(g){}e=
"object"!==typeof d||"number"!==typeof d.nodeType||"string"!==typeof d.nodeName?!1:!0}else e=!1;if(!e)throw TypeError("page template node must be a DOM node, got "+d);t(d,c)};I.populator=function(c,d,e){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);if("function"!==typeof d)throw TypeError("page populator must be a function, got "+d);switch(typeof e){case "undefined":e=function(){};break;case "function":break;default:throw TypeError("page unpopulator must be a function, got "+
e);}R[c]||(R[c]=[]);R[c].push([d,e])};I.load=function(c,d,e,g){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);switch(typeof d){case "function":g=d;d={};e={};break;case "undefined":d={};break;case "string":e=d;d={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+d);}switch(typeof e){case "function":g=e;e={};break;case "undefined":e={};break;case "string":e={transition:e};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+
e);}switch(typeof g){case "undefined":g=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+g);}l(c,d,e,g)};I.back=function(c,d){switch(typeof c){case "function":d=c;c={};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+c);}switch(typeof d){case "undefined":d=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+
d);}u(c,d)};I.setDefaultTransition=function(c){if(!(c in Z))throw TypeError("invalid transition type, got "+c);h(c)};I.removeFromStack=function(c,e){var h=L.length-1;switch(typeof c){case "undefined":c=0;break;case "number":if(Math.abs(c)>h)throw TypeError("absolute start index cannot be greater than stack size, got "+c);0>c&&(c=h-c);break;default:throw TypeError("start index must be a number if defined, got "+c);}switch(typeof e){case "undefined":e=h;break;case "number":if(Math.abs(e)>h)throw TypeError("absolute end index cannot be greater than stack size, got "+
e);0>e&&(e=h-e);break;default:throw TypeError("end index must be a number if defined, got "+e);}if(c>e)throw TypeError("start index cannot be greater than end index");var i=c,j=e;g(function(c){L.splice(i,j-i).forEach(function(c){K(c[0],c[1],c[3],c[4]);d(c[0],c[1],c[3],c[4])});c()})};I.addToStack=function(c,d){var e=L.length-1;switch(typeof c){case "undefined":c=0;break;case "number":if(Math.abs(c)>e)throw TypeError("absolute index cannot be greater than stack size, got "+c);0>c&&(c=e-c);break;default:throw TypeError("index must be a number if defined, got "+
c);}if(!G(d))throw TypeError("added pages must be an array, got "+d);d=d.slice();d.forEach(function(c,e){if("string"===typeof c)c=[c,{}];else if(G(c))c=c.slice();else throw TypeError("page description must be an array (page name, arguments), got "+c);if("string"!==typeof c[0])throw TypeError("page name must be a string, got "+c[0]);switch(typeof c[1]){case "undefined":c[1]={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+c[1]);}d[e]=c});var h=
c,i=d;g(function(c){var d=[];i.forEach(function(c){var e={},b=C(c[0],c[1],e);Y||q(b);d.push([c[0],b,{},c[1],e])});d.unshift(0);d.unshift(h);Array.prototype.splice.apply(L,d);c()})};var P=function(){J&&y(J)};x.addEventListener("resize",P);x.addEventListener("load",P);D&&(D.plugin&&D.plugin.back)&&D.plugin.back(function(){if(1<L.length)return I.back(),!1});x.App=I})(window,document,ImageLoader,Swapper,Clickable,Scrollable,window.clik);
