var Swapper=function(l,p,q,m){var a="translate3d(0,0,0) scale(1)";var n=false,j;if((j=/\bCPU.*OS (\d+(_\d+)?)/i.exec(navigator.userAgent))&&(Math.floor(parseFloat(j[1]))===5)){n=true}var u={fade:[{fade:true},{fade:true}],"fade-on":[{fade:true},{}],"fade-off":[{},{fade:true},true],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{},{transform:"scale(0.01)"},true],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",fade:true},{transform:"rotateY( 180deg) perspective(360px)",fade:true}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:true},{transform:"rotateY(-180deg) perspective(360px)",fade:true}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:true,transform:"scale(1.25)"},{}],"explode-out":[{},{fade:true,transform:"scale(1.25)"},true],"implode-in":[{},{fade:true,transform:"scale(0.60)"},true],"implode-out":[{fade:true,transform:"scale(0.80)"},{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}],"slideon-left":[{transform:"translate3d(-100%,0,0)"},{}],"slideoff-left":[{},{transform:"translate3d(-100%,0,0)"},true],"slideon-right":[{transform:"translate3d(100%,0,0)"},{}],"slideoff-right":[{},{transform:"translate3d(100%,0,0)"},true],"slideon-up":[{transform:"translate3d(0,-100%,0)"},{}],"slideoff-up":[{},{transform:"translate3d(0,-100%,0)"},true],"slideon-down":[{transform:"translate3d(0,100%,0)"},{}],"slideoff-down":[{},{transform:"translate3d(0,100%,0)"},true]},k={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};function r(w){if(!w){return false}try{return(w instanceof Node)||(w instanceof HTMLElement)}catch(v){}if(typeof w!=="object"){return false}if(typeof w.nodeType!=="number"){return false}if(typeof w.nodeName!=="string"){return false}return true}function d(w,v){if(!v&&!r(w)){throw TypeError("element must be a DOM node, got "+w)}while(w=w.parentNode){if(w===p){return true}}return false}function c(v,w){w.parentNode.insertBefore(v,w)}function t(v,x){var w=x.parentNode;if(w.lastchild===x){w.appendChild(v)}else{w.insertBefore(v,x.nextSibling)}}function s(v){if(v.parentNode){v.parentNode.removeChild(v)}}function e(w,v){w.style["-webkit-transform"]=v;w.style["-moz-transform"]=v;w.style["-ms-transform"]=v;w.style["-o-transform"]=v;w.style.transform=v}function g(v,w){if(w){v.style["-webkit-transition"]="-webkit-"+w;v.style["-moz-transition"]="-moz-"+w;v.style["-ms-transition"]="-ms-"+w;v.style["-o-transition"]="-o-"+w;v.style.transition=w}else{v.style["-webkit-transition"]="";v.style["-moz-transition"]="";v.style["-ms-transition"]="";v.style["-o-transition"]="";v.style.transition=""}}function h(w,x){var v;if(x){v=w.style}else{v=p.defaultView.getComputedStyle(w,null)}return{display:v.display,opacity:v.opacity,top:v.top,left:v.left,height:v.height,width:v.width,position:v.position}}function b(v){if(!r(v)){throw TypeError("element must be a DOM node, got "+v)}}function f(v){switch(typeof v){case"string":v={transition:v};break;case"undefined":v={};break;case"object":break;default:throw TypeError("options must be an object if defined, got "+v)}switch(typeof v.transition){case"string":if(!(v.transition in u)&&(v.transition!=="instant")){throw TypeError(v.transition+" is not a valid transition")}break;case"undefined":break;default:throw TypeError("transition must be a string if defined, got "+v.transition)}switch(typeof v.duration){case"number":if(v.duration<0){throw TypeError("duration must be a non-negative integer, got "+v.duration)}break;case"undefined":break;default:throw TypeError("duration must be a number if defined, got "+v.duration)}switch(typeof v.easing){case"string":if(!(v.easing in k)){throw TypeError(v.easing+" is not a valid easing")}break;case"undefined":break;default:throw TypeError("easing must be a string if defined, got "+v.easing)}return v}function i(v){switch(typeof v){case"undefined":v=function(){};break;case"function":break;default:throw TypeError("callback must be a function if defined, got "+v)}return v}function o(D,B,y,z){b(D);b(B);if(typeof y==="function"){z=y;y={}}y=f(y);z=i(z);if(D._swapper){throw Error("elem1 is currently being swapped")}if(B._swapper){throw Error("elem2 is currently being swapped")}if(!d(D,true)){throw Error("elem1 must be in the DOM to be swapped")}D._swapper=true;B._swapper=true;s(B);if(y.transition==="instant"){t(B,D);s(D);D._swapper=false;B._swapper=false;setTimeout(function(){z()},0);return}var M=u[y.transition||"fade"],K=k[y.easing||"ease-in-out"],v=y.duration||300;t(B,D);var C=D.getBoundingClientRect(),I=h(D),F=h(B),J=h(D,true),H=h(B,true);if(I.display!=="none"){if(n){B.style.position="absolute"}else{B.style.position="fixed"}B.style.top=C.top+"px";B.style.left=C.left+"px"}B.style.height=F.height||I.height;B.style.width=F.width||I.width;if(M[2]){c(B,D)}e(D,a);e(B,M[0].transform||a);if(M[0].fade){B.style.opacity="0"}if(M[1].fade){D.style.opacity="1"}setTimeout(function(){var N="transform "+(v/1000)+"s "+K+", opacity "+(v/1000)+"s "+K;g(D,N);g(B,N);setTimeout(function(){e(D,M[1].transform||a);e(B,a);if(M[0].fade){B.style.opacity="1"}if(M[1].fade){D.style.opacity="0"}if((F.display!=="none")&&(M[0].fade||(M[0].transform&&M[0].transform!==a))){G=B;x()}else{if((I.display!=="none")&&(M[1].fade||(M[1].transform&&M[1].transform!==a))){G=D;x()}else{setTimeout(w,v)}}},0)},0);var A=false,G;function x(){G.addEventListener("webkitTransitionEnd",w,false);G.addEventListener("transitionend",w,false);G.addEventListener("oTransitionEnd",w,false);G.addEventListener("otransitionend",w,false);G.addEventListener("MSTransitionEnd",w,false);G.addEventListener("transitionend",w,false)}function E(){G.removeEventListener("webkitTransitionEnd",w);G.removeEventListener("transitionend",w);G.removeEventListener("oTransitionEnd",w);G.removeEventListener("otransitionend",w);G.removeEventListener("MSTransitionEnd",w);G.removeEventListener("transitionend",w)}function L(){x()}function w(){if(A){return}A=true;if(G){E()}s(D);g(D,"");g(B,"");setTimeout(function(){e(D,"");e(B,"");if(M[0].fade){B.style.opacity=H.opacity}if(M[1].fade){D.style.opacity=J.opacity}B.style.position=H.position;B.style.top=H.top;B.style.left=H.left;B.style.height=H.height;B.style.width=H.width;D._swapper=false;B._swapper=false;z()},0)}}if(q){q.extend(q.fn,{swapper:function(v,w,x){v=q(v)[0];this.forEach(function(y){o(y,v,w,x)});return this}})}if(m){m.fn.swapper=function(v,w,x){v=m(v)[0];this.each(function(){o(this,v,w,x)});return this}}return o}(window,document,window.Zepto,window.jQuery);
