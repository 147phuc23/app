var ImageLoader=function(u,l,q,i){function B(h,l){h.style["-webkit-transition"]=l;h.style["-moz-transition"]=l;h.style["-ms-transition"]=l;h.style["-o-transition"]=l;h.style.transition=l}function o(h,i,o,p){function u(){g||(g=!0,H[i]=!0,h.src=i,h.style.opacity="1",setTimeout(function(){B(h,"");setTimeout(function(){h.style.opacity=s.opacity;h.style["-webkit-transition"]=s["-webkit-transition"];h.style["-moz-transition"]=s["-moz-transition"];h.style["-ms-transition"]=s["-ms-transition"];h.style["-o-transition"]=
s["-o-transition"];h.style.transition=s.transition;p()},0)},D),l.body.removeChild(n))}var c;a:if(h){try{c=h instanceof Node||h instanceof HTMLElement;break a}catch(f){}c="object"!==typeof h||"number"!==typeof h.nodeType||"string"!==typeof h.nodeName?!1:!0}else c=!1;if(!c)throw TypeError("image must be a DOM element, got "+h);if("string"!==typeof i)throw TypeError("url must be a string, got "+i);switch(typeof o){case "function":p=o;case "undefined":o=0;case "number":break;default:throw TypeError("minimum wait time must be a number if deinfed, got "+
o);}switch(typeof p){case "undefined":p=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+p);}if(!0===H[i])h.src=i;else{var g=!1,k=+new Date+(o||0),s={opacity:h.style.opacity,"-webkit-transition":h.style["-webkit-transition"],"-moz-transition":h.style["-moz-transition"],"-ms-transition":h.style["-ms-transition"],"-o-transition":h.style["-o-transition"],transition:h.style.transition};h.style.opacity="0";setTimeout(function(){B(h,"opacity "+D/
1E3+"s ease-in-out")},0);var n=new Image;n.style.opacity="0";n.style.position="fixed";n.style.top="-100%";n.style.left="-100%";n.style.height="1px";n.style.width="1px";l.body.appendChild(n);n.onload=function(){var f=+new Date;f>=k?u():setTimeout(u,k-f)};n.onerror=n.onload;n.src=i}}var D=300,H={};q&&q.extend(q.fn,{imageLoader:function(h,l,i){this.forEach(function(p){o(p,h,l,i)});return this}});i&&(i.fn.imageLoader=function(h,l,i){this.each(function(){o(this,h,l,i)});return this});return o}(window,
document,window.Zepto,window.jQuery),Swapper=function(u,l,q,i){function B(f,g){var c=g.parentNode;c.lastchild===g?c.appendChild(f):c.insertBefore(f,g.nextSibling)}function o(f){f.parentNode&&f.parentNode.removeChild(f)}function D(f,g){f.style["-webkit-transform"]=g;f.style["-moz-transform"]=g;f.style["-ms-transform"]=g;f.style["-o-transform"]=g;f.style.transform=g}function H(f,g){g?(f.style["-webkit-transition"]="-webkit-"+g,f.style["-moz-transition"]="-moz-"+g,f.style["-ms-transition"]="-ms-"+g,
f.style["-o-transition"]="-o-"+g,f.style.transition=g):(f.style["-webkit-transition"]="",f.style["-moz-transition"]="",f.style["-ms-transition"]="",f.style["-o-transition"]="",f.style.transition="")}function h(f,g){var c;c=g?f.style:l.defaultView.getComputedStyle(f,null);return{display:c.display,opacity:c.opacity,top:c.top,left:c.left,height:c.height,width:c.width,position:c.position}}function r(f){var c;a:if(f){try{c=f instanceof Node||f instanceof HTMLElement;break a}catch(h){}c="object"!==typeof f||
"number"!==typeof f.nodeType||"string"!==typeof f.nodeName?!1:!0}else c=!1;if(!c)throw TypeError("element must be a DOM node, got "+f);}function C(f,g,k,i){function n(){m.addEventListener("webkitTransitionEnd",t,!1);m.addEventListener("transitionend",t,!1);m.addEventListener("oTransitionEnd",t,!1);m.addEventListener("otransitionend",t,!1);m.addEventListener("MSTransitionEnd",t,!1);m.addEventListener("transitionend",t,!1)}function t(){E||(E=!0,m&&(m.removeEventListener("webkitTransitionEnd",t),m.removeEventListener("transitionend",
t),m.removeEventListener("oTransitionEnd",t),m.removeEventListener("otransitionend",t),m.removeEventListener("MSTransitionEnd",t),m.removeEventListener("transitionend",t)),o(f),H(f,""),H(g,""),setTimeout(function(){D(f,"");D(g,"");x[0].fade&&(g.style.opacity=q.opacity);x[1].fade&&(f.style.opacity=v.opacity);g.style.position=q.position;g.style.top=q.top;g.style.left=q.left;g.style.height=q.height;g.style.width=q.width;f._swapper=!1;g._swapper=!1;i()},0))}r(f);r(g);"function"===typeof k&&(i=k,k={});
switch(typeof k){case "string":k={transition:k};break;case "undefined":k={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+k);}switch(typeof k.transition){case "string":if(!(k.transition in L)&&"instant"!==k.transition)throw TypeError(k.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+k.transition);}switch(typeof k.duration){case "number":if(0>k.duration)throw TypeError("duration must be a non-negative integer, got "+
k.duration);break;case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+k.duration);}switch(typeof k.easing){case "string":if(!(k.easing in c))throw TypeError(k.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+k.easing);}var I=i;switch(typeof I){case "undefined":I=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+I);}i=
I;if(f._swapper)throw Error("elem1 is currently being swapped");if(g._swapper)throw Error("elem2 is currently being swapped");a:{for(I=f;I=I.parentNode;)if(I===l){I=!0;break a}I=!1}if(!I)throw Error("elem1 must be in the DOM to be swapped");f._swapper=!0;g._swapper=!0;o(g);if("instant"===k.transition)B(g,f),o(f),f._swapper=!1,g._swapper=!1,setTimeout(function(){i()},0);else{var x=L[k.transition||"fade"],y=c[k.easing||"ease-in-out"],u=k.duration||300;B(g,f);var k=f.getBoundingClientRect(),j=h(f),A=
h(g),v=h(f,!0),q=h(g,!0);"none"!==j.display&&(g.style.position="fixed",g.style.top=k.top+"px",g.style.left=k.left+"px");g.style.height=A.height||j.height;g.style.width=A.width||j.width;x[2]&&f.parentNode.insertBefore(g,f);D(f,p);D(g,x[0].transform||p);x[0].fade&&(g.style.opacity="0");x[1].fade&&(f.style.opacity="1");setTimeout(function(){var c="transform "+u/1E3+"s "+y+", opacity "+u/1E3+"s "+y;H(f,c);H(g,c);setTimeout(function(){D(f,x[1].transform||p);D(g,p);x[0].fade&&(g.style.opacity="1");x[1].fade&&
(f.style.opacity="0");"none"!==A.display&&(x[0].fade||x[0].transform&&x[0].transform!==p)?(m=g,n()):"none"!==j.display&&(x[1].fade||x[1].transform&&x[1].transform!==p)?(m=f,n()):setTimeout(t,u)},0)},0);var E=!1,m}}var p="translate3d(0,0,0) scale(1)";/\bandroid\b/i.test(navigator.userAgent);var L={fade:[{fade:!0},{fade:!0}],"fade-on":[{fade:!0},{}],"fade-off":[{},{fade:!0},!0],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{},{transform:"scale(0.01)"},!0],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",
fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],
"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},{}],"explode-out":[{},{fade:!0,transform:"scale(1.25)"},!0],"implode-in":[{},{fade:!0,transform:"scale(0.60)"},!0],"implode-out":[{fade:!0,transform:"scale(0.80)"},
{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}],"slideon-left":[{transform:"translate3d(-100%,0,0)"},{}],"slideoff-left":[{},{transform:"translate3d(-100%,0,0)"},!0],"slideon-right":[{transform:"translate3d(100%,0,0)"},
{}],"slideoff-right":[{},{transform:"translate3d(100%,0,0)"},!0],"slideon-up":[{transform:"translate3d(0,-100%,0)"},{}],"slideoff-up":[{},{transform:"translate3d(0,-100%,0)"},!0],"slideon-down":[{transform:"translate3d(0,100%,0)"},{}],"slideoff-down":[{},{transform:"translate3d(0,100%,0)"},!0]},c={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};q&&q.extend(q.fn,{swapper:function(c,g,h){c=q(c)[0];this.forEach(function(i){C(i,
c,g,h)});return this}});i&&(i.fn.swapper=function(c,g,h){c=i(c)[0];this.each(function(){C(this,c,g,h)});return this});return C}(window,document,window.Zepto,window.jQuery),Clickable=function(u,l,q,i,B){function o(c,f){function g(){c.addEventListener("touchstart",y,!1);c.addEventListener("touchmove",q,!1);c.addEventListener("touchend",j,!1);c.addEventListener("touchcancel",q,!1)}function k(){c.removeEventListener("touchstart",y);c.removeEventListener("touchmove",q);c.removeEventListener("touchend",
j);c.removeEventListener("touchcancel",q)}function i(){var f=c,g;g=c.className.replace(E,"");g=String(g).replace(D,"");f.className=g}function n(c,f){do{if(c===f)return!0;if(c._clickable)break}while(c=c.parentNode);return!1}function o(g){r=!1;c.disabled||!n(g.target,c)?(g.preventDefault(),m=!1):(m=!0,c.className+=" "+f)}function p(c){c.preventDefault();r=m=!1;i()}function x(f){c.disabled?(f.preventDefault(),r=m=!1):(m?r=!0:(f.preventDefault(),r=!1),m=!1,i())}function y(g){r=!1;if(c.disabled||!n(g.target,
c))m=!1;else{m=!0;var h=C=+new Date;setTimeout(function(){m&&h===C&&(c.className+=" "+f)},H)}}function q(){m=r=!1;c.disabled||i()}function j(g){function h(){r=!0;var f=l.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,u,1,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(f)}var j=m;q();j&&!c.disabled&&(g.stopImmediatePropagation?+new Date-C>H?h():(c.className+=" "+f,setTimeout(function(){i();h()},1)):r=!0)}function A(f){f=f||u.event;if(!c.disabled&&r)r=!1;else return f.stopImmediatePropagation&&
f.stopImmediatePropagation(),f.preventDefault(),f.stopPropagation(),f.cancelBubble=!0,f.returnValue=!1}var v;a:if(c){try{v=c instanceof Node||c instanceof HTMLElement;break a}catch(B){}v="object"!==typeof c||"number"!==typeof c.nodeType||"string"!==typeof c.nodeName?!1:!0}else v=!1;if(!v)throw TypeError("element "+c+" must be a DOM element");if(!c._clickable){c._clickable=!0;switch(typeof f){case "undefined":f="active";case "string":break;default:throw TypeError("active class "+f+" must be a string");
}c.setAttribute("data-clickable-class",f);var E=RegExp("\\b"+f+"\\b"),m=!1,r=!1,C;if(h.ios||h.android)if(c.style["-webkit-tap-highlight-color"]="rgba(255,255,255,0)",c.addEventListener("click",A,!1),h.ios){c.addEventListener("DOMNodeInsertedIntoDocument",g,!1);c.addEventListener("DOMNodeRemovedFromDocument",k,!1);a:{for(v=c;v=v.parentNode;)if(v===l){v=!0;break a}v=!1}v&&g()}else g();else c.addEventListener?(c.addEventListener("mousedown",o,!1),c.addEventListener("mousemove",p,!1),c.addEventListener("mouseout",
p,!1),c.addEventListener("mouseup",x,!1),c.addEventListener("click",A,!1)):c.attachEvent&&(c.attachEvent("onmousedown",o),c.attachEvent("onmousemove",p),c.attachEvent("onmouseout",p),c.attachEvent("onmouseup",x),c.attachEvent("onclick",A))}}var D=/^\s+|\s+$/g,H=40,h,r=u.navigator.userAgent,C,p,L;if(L=/\bCPU.*OS (\d+(_\d+)?)/i.exec(r))C="ios",p=L[1].replace("_",".");else if(L=/\bAndroid (\d+(\.\d+)?)/.exec(r))C="android",p=L[1];r={name:C,version:p&&u.parseFloat(p)};r[C]=!0;h=r;C=function(){o.apply(this,
arguments)};q&&q.plugin("clickable",function(){o.apply(this,arguments)});i&&i.extend(i.fn,{clickable:function(c){this.forEach(function(f){o(f,c)});return this}});B&&(B.fn.clickable=function(c){this.each(function(){o(this,c)});return this});C.touchable=function(){return h.ios||h.android};return C}(window,document,window.clik,window.Zepto,window.jQuery),Scrollable=function(u,l,q,i,B){function o(b){if(!b)return!1;try{return b instanceof Node||b instanceof HTMLElement}catch(a){}return"object"!==typeof b||
"number"!==typeof b.nodeType||"string"!==typeof b.nodeName?!1:!0}function D(b,a,d){if(Array.prototype.forEach)Array.prototype.forEach.call(b,a,d);else for(var w=0,e=b.length;w<e;w++)w in b&&a.call(d,b[w],w,b)}function H(b){c?setTimeout(b,0):L.push(b)}function h(b){try{l.documentElement.doScroll("left")}catch(a){setTimeout(function(){h(b)},1);return}b()}function r(b,a){function d(){var a=b._scrollTop(),d=b._scrollLeft();a===z&&d===h||(z=a,h=d,b.dispatchEvent&&(a=l.createEvent("MouseEvents"),a.initMouseEvent("scroll",
!1,!1,u,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(a)))}if(!o(b))throw b+" is not a DOM element";if(!b._scrollable){b._scrollable=!0;b.style.overflow="scroll";b._scrollTop=function(a){if("undefined"===typeof a)return c?Math.max(parseInt(-c.y),0):b.scrollTop;!c&&(!I||f)?b.scrollTop=a:H(function(){c.scrollTo(c.x,Math.min(-a,0),1)})};b._scrollLeft=function(a){if("undefined"===typeof a)return c?Math.max(parseInt(-c.x),0):b.scrollLeft;!c&&(!I||f)?b.scrollLeft=a:H(function(){c.scrollTo(Math.min(-a,0),
c.y,1)})};if(!a){if(!I)return;if(f){b.style["-webkit-overflow-scrolling"]="touch";return}}var w=l.createElement("div"),e=Array.prototype.slice.call(b.childNodes||[]);D(e,function(a){a=b.removeChild(a);w.appendChild(a)});b.appendChild(w);var c,z,h;b._iScroll=!0;H(function(){c=new x(b,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,hScrollbar:!1,vScrollbar:!1,bounce:!!g.ios,onScrollMove:d,onBeforeScrollEnd:d,onScrollEnd:d,onBeforeScrollStart:C})})}}function C(b){for(var a=b.target;1!==a.nodeType;)a=
a.parentNode;"SELECT"!==a.tagName&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&b.preventDefault()}function p(b){return o(b)&&b._iScroll?b.childNodes[0]:b}var L=[],c=!1,f=!1,g,k=navigator.userAgent,s,n,t;if(t=/\bCPU.*OS (\d+(_\d+)?)/i.exec(k))s="ios",n=t[1].replace("_",".");else if(t=/\bAndroid (\d+(\.\d+)?)/.exec(k))s="android",n=t[1];k={name:s,version:n&&u.parseFloat(n)};k[s]=!0;g=k;var I=!!g.name,x;if(g.ios&&5<=g.version||g.android&&4<=g.version)f=!0;var y=u,O=l;s=function(b){if(""===A)return b;
b=b.charAt(0).toUpperCase()+b.substr(1);return A+b};var j=Math,k=O.createElement("div").style,A;a:{n=["t","webkitT","MozT","msT","OT"];var v;t=0;for(var ga=n.length;t<ga;t++)if(v=n[t]+"ransform",v in k){A=n[t].substr(0,n[t].length-1);break a}A=!1}var E=A?"-"+A.toLowerCase()+"-":"",m=s("transform"),da=s("transitionProperty"),U=s("transitionDuration"),ha=s("transformOrigin"),ia=s("transitionTimingFunction"),ba=s("transitionDelay"),W=/android/gi.test(navigator.appVersion),F=/iphone|ipad/gi.test(navigator.appVersion);
n=/hp-tablet/gi.test(navigator.appVersion);var V=s("perspective")in k,G="ontouchstart"in y&&!n,J=!!A,ca=s("transition")in k,X="onorientationchange"in y?"orientationchange":"resize",Z=G?"touchstart":"mousedown",P=G?"touchmove":"mousemove",N=G?"touchend":"mouseup",Q=G?"touchcancel":"mouseup",Y="Moz"==A?"DOMMouseScroll":"mousewheel",R;R=!1===A?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[A];var aa=y.requestAnimationFrame||y.webkitRequestAnimationFrame||
y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(b){return setTimeout(b,1)},K=y.cancelRequestAnimationFrame||y.webkitCancelAnimationFrame||y.webkitCancelRequestAnimationFrame||y.mozCancelRequestAnimationFrame||y.oCancelRequestAnimationFrame||y.msCancelRequestAnimationFrame||clearTimeout,M=V?" translateZ(0)":"";n=function(b,a){var d=this,w;d.wrapper="object"==typeof b?b:O.getElementById(b);d.wrapper.style.overflow="hidden";d.scroller=d.wrapper.children[0];d.options=
{hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:W,hideScrollbar:F,fadeScrollbar:F&&V,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,
onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(w in a)d.options[w]=a[w];d.x=d.options.x;d.y=d.options.y;d.options.useTransform=J&&d.options.useTransform;d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar;d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar;d.options.zoom=d.options.useTransform&&d.options.zoom;d.options.useTransition=ca&&d.options.useTransition;d.options.zoom&&W&&(M="");d.scroller.style[da]=d.options.useTransform?
E+"transform":"top left";d.scroller.style[U]="0";d.scroller.style[ha]="0 0";d.options.useTransition&&(d.scroller.style[ia]="cubic-bezier(0.33,0.66,0.66,1)");d.options.useTransform?d.scroller.style[m]="translate("+d.x+"px,"+d.y+"px)"+M:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px";d.options.useTransition&&(d.options.fixedScrollbar=!0);d.refresh();d._bind(X,y);d._bind(Z);G||(d._bind("mouseout",d.wrapper),"none"!=d.options.wheelAction&&d._bind(Y));d.options.checkDOMChanges&&
(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};n.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case Z:if(!G&&0!==b.button)break;this._start(b);break;case P:this._move(b);break;case N:case Q:this._end(b);break;case X:this._resize();break;case Y:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case R:this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&
!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(a=O.createElement("div"),this.options.scrollbarClass?a.className=this.options.scrollbarClass+b.toUpperCase():a.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?
"7":"2")+"px;top:2px;right:1px"),a.style.cssText+=";pointer-events:none;"+E+"transition-property:opacity;"+E+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(a),this[b+"ScrollbarWrapper"]=a,a=O.createElement("div"),this.options.scrollbarClass||(a.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+E+"background-clip:padding-box;"+E+"box-sizing:border-box;"+
("h"==b?"height:100%":"width:100%")+";"+E+"border-radius:3px;border-radius:3px"),a.style.cssText+=";pointer-events:none;"+E+"transition-property:"+E+"transform;"+E+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+E+"transition-duration:0;"+E+"transform: translate(0,0)"+M,this.options.useTransition&&(a.style.cssText+=";"+E+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(a),this[b+"ScrollbarIndicator"]=a),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,
this.hScrollbarIndicatorSize=j.max(j.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=j.max(j.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=
this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(J&&(this[b+"ScrollbarIndicator"].style[m]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},W?200:0)},_pos:function(b,
a){this.zoomed||(b=this.hScroll?b:0,a=this.vScroll?a:0,this.options.useTransform?this.scroller.style[m]="translate("+b+"px,"+a+"px) scale("+this.scale+")"+M:(b=j.round(b),a=j.round(a),this.scroller.style.left=b+"px",this.scroller.style.top=a+"px"),this.x=b,this.y=a,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(b,a){var d="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(d*=this[b+"ScrollbarProp"],0>d?(this.options.fixedScrollbar||(d=this[b+"ScrollbarIndicatorSize"]+j.round(3*d),
8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px"),d=0):d>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?d=this[b+"ScrollbarMaxScroll"]:(d=this[b+"ScrollbarIndicatorSize"]-j.round(3*(d-this[b+"ScrollbarMaxScroll"])),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px",d=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-d))),this[b+"ScrollbarWrapper"].style[ba]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?
"0":"1",this[b+"ScrollbarIndicator"].style[m]="translate("+("h"==b?d+"px,0)":"0,"+d+"px)")+M)},_start:function(b){var a=G?b.touches[0]:b,d,w;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&G&&1<b.touches.length&&(w=j.abs(b.touches[0].pageX-b.touches[1].pageX),
d=j.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=j.sqrt(w*w+d*d),this.originX=j.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=j.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[m].replace(/[^0-9\-.,]/g,"").split(","),w=1*d[4],d=1*d[5]):(w=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),w!=this.x||d!=this.y))this.options.useTransition?this._unbind(R):K(this.aniTime),this.steps=[],this._pos(w,d);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(P);this._bind(N);this._bind(Q)}},_move:function(b){var a=
G?b.touches[0]:b,d=a.pageX-this.pointX,w=a.pageY-this.pointY,e=this.x+d,c=this.y+w,z=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&G&&1<b.touches.length)e=j.abs(b.touches[0].pageX-b.touches[1].pageX),c=j.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=j.sqrt(e*e+c*c),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):
a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,e=this.originX-this.originX*this.lastScale+this.x,c=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[m]="translate("+e+"px,"+c+"px) scale("+a+")"+M,this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<e||e<this.maxScrollX)e=this.options.bounce?this.x+d/2:0<=e||0<=this.maxScrollX?0:this.maxScrollX;if(c>this.minScrollY||
c<this.maxScrollY)c=this.options.bounce?this.y+w/2:c>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=d;this.distY+=w;this.absDistX=j.abs(this.distX);this.absDistY=j.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(c=this.y,w=0):this.absDistY>this.absDistX+5&&(e=this.x,d=0)),this.moved=!0,this._pos(e,c),this.dirX=0<d?-1:0>d?1:0,this.dirY=0<w?-1:0>w?1:0,300<z-this.startTime&&(this.startTime=z,this.startX=
this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(G&&0!==b.touches.length)){var a=this,d=G?b.changedTouches[0]:b,e,c,z={dist:0,time:0},f={dist:0,time:0},g=(b.timeStamp||Date.now())-a.startTime,h=a.x,i=a.y;a._unbind(P);a._unbind(N);a._unbind(Q);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)h=a.scale*a.lastScale,h=Math.max(a.options.zoomMin,h),h=Math.min(a.options.zoomMax,h),a.lastScale=h/a.scale,a.scale=
h,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[U]="200ms",a.scroller.style[m]="translate("+a.x+"px,"+a.y+"px) scale("+a.scale+")"+M,a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(300>g&&a.options.momentum){z=h?a._momentum(h-a.startX,g,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):z;f=i?a._momentum(i-a.startY,g,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?
a.wrapperH:0):f;h=a.x+z.dist;i=a.y+f.dist;if(0<a.x&&0<h||a.x<a.maxScrollX&&h<a.maxScrollX)z={dist:0,time:0};if(a.y>a.minScrollY&&i>a.minScrollY||a.y<a.maxScrollY&&i<a.maxScrollY)f={dist:0,time:0}}z.dist||f.dist?(z=j.max(j.max(z.time,f.time),10),a.options.snap&&(f=h-a.absStartX,g=i-a.absStartY,j.abs(f)<a.options.snapThreshold&&j.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(f=a._snap(h,i),h=f.x,i=f.y,z=j.max(f.time,z))),a.scrollTo(j.round(h),j.round(i),z)):a.options.snap?
(f=h-a.absStartX,g=i-a.absStartY,j.abs(f)<a.options.snapThreshold&&j.abs(g)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(f=a._snap(a.x,a.y),(f.x!=a.x||f.y!=a.y)&&a.scrollTo(f.x,f.y,f.time))):a._resetPos(200)}else G&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,
b)},200)):this.options.handleClick&&(a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(e=d.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&(c=O.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,b.view,1,d.screenX,d.screenY,d.clientX,d.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),c._fake=!0,e.dispatchEvent(c))},a.options.zoom?250:0))),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=
0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&d==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==A&&(this.hScrollbarWrapper.style[ba]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==A&&(this.vScrollbarWrapper.style[ba]=
"300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,d,b||0)},_wheel:function(b){var a=this,d,e;if("wheelDeltaX"in b)d=b.wheelDeltaX/12,e=b.wheelDeltaY/12;else if("wheelDelta"in b)d=e=b.wheelDelta/12;else if("detail"in b)d=e=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(e=a.scale*Math.pow(2,1/3*(e?e/Math.abs(e):0)),e<a.options.zoomMin&&(e=a.options.zoomMin),e>a.options.zoomMax&&(e=a.options.zoomMax),e!=a.scale)!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,
b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,e,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else d=a.x+d,e=a.y+e,0<d?d=0:d<a.maxScrollX&&(d=a.maxScrollX),e>a.minScrollY?e=a.minScrollY:e<a.maxScrollY&&(e=a.maxScrollY),0>a.maxScrollY&&a.scrollTo(d,e,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind(R),
this._startAni())},_startAni:function(){var b=this,a=b.x,d=b.y,e=Date.now(),c,f,z;b.animating||(b.steps.length?(c=b.steps.shift(),c.x==a&&c.y==d&&(c.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(c.time),b._pos(c.x,c.y),b.animating=!1,c.time?b._bind(R):b._resetPos(0)):(z=function(){var g=Date.now(),h;g>=e+c.time?(b._pos(c.x,c.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(g=(g-e)/c.time-1,f=j.sqrt(1-g*g),g=(c.x-a)*f+a,h=
(c.y-d)*f+d,b._pos(g,h),b.animating&&(b.aniTime=aa(z)))},z()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[U]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[U]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[U]=b)},_momentum:function(b,a,d,e,c){var a=j.abs(b)/a,f=a*a/0.0012;0<b&&f>d?(d+=c/(6/(6E-4*(f/a))),a=a*d/f,f=d):0>b&&f>e&&(e+=c/(6/(6E-4*(f/a))),a=a*e/f,f=e);return{dist:f*(0>b?-1:1),time:j.round(a/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,d=-b.offsetTop;b=
b.offsetParent;)a-=b.offsetLeft,d-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,d*=this.scale);return{left:a,top:d}},_snap:function(b,a){var d,e,c;c=this.pagesX.length-1;d=0;for(e=this.pagesX.length;d<e;d++)if(b>=this.pagesX[d]){c=d;break}c==this.currPageX&&0<c&&0>this.dirX&&c--;b=this.pagesX[c];e=(e=j.abs(b-this.pagesX[this.currPageX]))?500*(j.abs(this.x-b)/e):0;this.currPageX=c;c=this.pagesY.length-1;for(d=0;d<c;d++)if(a>=this.pagesY[d]){c=d;break}c==this.currPageY&&0<c&&0>this.dirY&&c--;a=this.pagesY[c];
d=(d=j.abs(a-this.pagesY[this.currPageY]))?500*(j.abs(this.y-a)/d):0;this.currPageY=c;c=j.round(j.max(e,d))||200;return{x:b,y:a,time:c}},_bind:function(b,a,d){(a||this.scroller).addEventListener(b,this,!!d)},_unbind:function(b,a,d){(a||this.scroller).removeEventListener(b,this,!!d)},destroy:function(){this.scroller.style[m]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(X,y);this._unbind(Z);this._unbind(P);this._unbind(N);this._unbind(Q);this.options.hasTouch||
(this._unbind("mouseout",this.wrapper),this._unbind(Y));this.options.useTransition&&this._unbind(R);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,a,d,e=0;a=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=j.round(this.scroller.offsetWidth*
this.scale);this.scrollerH=j.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=
this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];d=this.scroller.querySelectorAll(this.options.snap);b=0;for(a=d.length;b<a;b++)e=this._offset(d[b]),e.left+=this.wrapperOffsetLeft,e.top+=this.wrapperOffsetTop,this.pagesX[b]=e.left<this.maxScrollX?this.maxScrollX:e.left*this.scale,this.pagesY[b]=e.top<this.maxScrollY?this.maxScrollY:
e.top*this.scale}else if(this.options.snap){for(this.pagesX=[];e>=this.maxScrollX;)this.pagesX[a]=e,e-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);a=e=0;for(this.pagesY=[];e>=this.maxScrollY;)this.pagesY[a]=e,e-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");
this._scrollbar("v");this.zoomed||(this.scroller.style[U]="0",this._resetPos(200))},scrollTo:function(b,a,d,e){var c=b;this.stop();c.length||(c=[{x:b,y:a,time:d,relative:e}]);b=0;for(a=c.length;b<a;b++)c[b].relative&&(c[b].x=this.x-c[b].x,c[b].y=this.y-c[b].y),this.steps.push({x:c[b].x,y:c[b].y,time:c[b].time||0});this._startAni()},scrollToElement:function(b,a){var d;if(b=b.nodeType?b:this.scroller.querySelector(b))d=this._offset(b),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=
0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=d.top>this.minScrollY?this.minScrollY:d.top<this.maxScrollY?this.maxScrollY:d.top,a=void 0===a?j.max(2*j.abs(d.left),2*j.abs(d.top)):a,this.scrollTo(d.left,d.top,a)},scrollToPage:function(b,a,d){d=void 0===d?400:d;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-
1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY)a=this.maxScrollY;this.scrollTo(b,a,d)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(P);this._unbind(N);this._unbind(Q)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(R):K(this.aniTime);
this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,d,e){var c=d/this.scale;this.options.useTransform&&(this.zoomed=!0,e=void 0===e?200:e,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*c+this.x,this.y=a-a*c+this.y,this.scale=d,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[U]=e+"ms",this.scroller.style[m]="translate("+
this.x+"px,"+this.y+"px) scale("+d+")"+M,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};k=null;x=n;var S=function(){c||(c=!0,D(L,function(b){setTimeout(b,0)}))};if("complete"===l.readyState)setTimeout(S,0);else if(l.addEventListener)l.addEventListener("DOMContentLoaded",S,!1),u.addEventListener("load",S,!1);else if(l.attachEvent){l.attachEvent("onreadystatechange",S);u.attachEvent("onload",S);v=!1;try{v=null===u.frameElement}catch(ea){}l.documentElement.doScroll&&
v&&setTimeout(function(){h(S)},0)}v=function(){r.apply(this,arguments)};s=function(){r.apply(this,arguments)};q&&(s.node=function(){return p.apply(this,arguments)},q.plugin("scrollable",s));if(i){i.extend(i.fn,{scrollable:function(b){this.forEach(function(a){r(a,b)});return this},scrollableNode:function(){return $(this.map(function(){return p(this)}))}});var T=i.fn.scrollTop,fa=i.fn.scrollLeft;i.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0],d=o(a);return d&&a._scrollTop?a._scrollTop():
T?T.apply(this,arguments):d?a.scrollTop:null}this.forEach(function(a){var d=o(a);d&&a._scrollTop?a._scrollTop(b):T?T.call(i(a),b):d&&(a.scrollTop=b)});return this};i.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0],d=o(a);return d&&a._scrollLeft?a._scrollLeft():T?fa.apply(this,arguments):d?a.scrollLeft:null}this.forEach(function(a){var d=o(a);d&&a._scrollLeft?a._scrollLeft(b):fa?fa.call(i(a),b):d&&(a.scrollLeft=b)});return this}}if(B){B.fn.scrollable=function(b){this.each(function(){r(this,
b)});return this};B.fn.scrollableNode=function(){return $(this.map(function(){return p(this)}))};var e=B.fn.scrollTop,z=B.fn.scrollLeft;B.fn.scrollTop=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollTop?a._scrollTop():e.apply(this,arguments)}this.each(function(){o(this)&&this._scrollTop?this._scrollTop(b):e.call(B(this),b)});return this};B.fn.scrollLeft=function(b){if("undefined"===typeof b){var a=this[0];return o(a)&&a._scrollLeft?a._scrollLeft():z.apply(this,arguments)}this.each(function(){o(this)&&
this._scrollLeft?this._scrollLeft(b):z.call(B(this),b)});return this}}v.node=function(){return p.apply(this,arguments)};return v}(window,document,window.clik,window.Zepto,window.jQuery);
(function(u,l,q,i,B,o,D){function H(e){return Array.isArray?Array.isArray(e):"[object Array]"!==Object.prototype.toString.call(e)}function h(e){Y=e;R=W[Y]}function r(){if(!Z){Z=!0;for(var e=l.getElementsByClassName(A),c=e.length;c--;)C(e[c]);if(e=/\bCPU.*OS (\d+(_\d+)?)/i.exec(navigator.userAgent))N="ios",Q=parseFloat(e[1]),l.body.className+=" "+ga,h(U);else if(e=/\bAndroid (\d+(\.\d+(\.\d+)?)?)/.exec(navigator.userAgent))N="android",Q=parseFloat(e[1]),l.body.className+=" "+E,h(4<=Q?ha:ba),"4.0.1"===
e[1]&&(P=!0,h(ia));F.platform=N;F.platformVersion=Q;l.body.className+=" "+m}}function C(e,c){c?e.setAttribute(v,c):c=e.getAttribute(v);"string"===typeof c&&0!==c.length&&(e.parentNode.removeChild(e),V[c]=e.cloneNode(!0))}function p(e,c,b){r();if(!(e in V))throw TypeError(e+" is not a known page");var a=V[e].cloneNode(!0),e=G[e]||[];j(a);Array.prototype.forEach.call(a.querySelectorAll(".app-button"),function(a){B(a);var b=a.getAttribute("data-target");a.getAttribute("data-back")?g(a,function(a){return n({},
a)}):b&&g(a,function(a){return s(b,{},{},a)})});e.forEach(function(d){d[0].call(b,a,c)});Array.prototype.forEach.call(a.querySelectorAll("img"),function(a){if(a.getAttribute("data-auto-load")){var b="android"===N?400:0,e=a.src;a.src="";q(a,e,b)}});P&&L(a);return a}function L(e){Array.prototype.forEach.call(e.querySelectorAll(".app-content"),function(e){e.getAttribute("data-no-scroll")||o(e)});Array.prototype.forEach.call(e.querySelectorAll("[data-scrollable]"),function(){o(content)})}function c(e,
c){Array.prototype.forEach.call(c.querySelectorAll("*"),function(b){b.style["-webkit-overflow-scrolling"]=""})}function f(e,c,b,a){if(!(e in V))throw TypeError(e+" is not a known page");(G[e]||[]).forEach(function(d){d[1].call(a,c,b)})}function g(e,c){e.addEventListener("click",function(){function b(){a||(a=!0,e.disabled=!1,e.className=e.className.replace(RegExp("\\b"+d+"\\b","g"),""))}var a=!1,d=e.getAttribute("data-clickable-class")||"active",f;e.disabled=!0;e.className+=" "+d;try{f=c(b)}catch(g){b()}!1===
f&&b()},!1)}function k(e){if(X)return ca.push(e),!1;X=!0;e(function(){X=!1;setTimeout(I,0);try{var e=J.map(function(a){return[a[0],a[3]]});localStorage[da]=JSON.stringify(e)}catch(b){}});return!0}function s(e,c,b,a){k(function(d){function f(){P||L(h);d();a()}var g={},h=p(e,c,g);if(aa){var i=K,j=O(i);j&&!j._iScroll&&(j=j._scrollTop(),(i||K).setAttribute("data-last-scroll",j+""));i=K;if((j=O(i))&&!j._iScroll){var k=j.style["-webkit-overflow-scrolling"]||"";j.style["-webkit-overflow-scrolling"]="";(i||
K).setAttribute("data-scroll-style",k)}var i={},m;for(m in b)i[m]=b[m];x(h,i,f)}else F.restore=null,l.body.appendChild(h),setTimeout(f,0);aa=e;K=h;J.push([e,h,b,c,g])})}function n(e,g){var b=J.length;if(k(function(a){if(2>J.length)a();else{var b=J.pop(),h=J[J.length-1],i=h[0],k=h[1],h=b[2];j(k);c(b[0],b[1],b[3],b[4]);var l=O(k);if(l&&!l._iScroll){var m=parseInt((k||K).getAttribute("data-last-scroll"));m&&l._scrollTop(m)}var l={},n;for(n in h)l[n]=h[n];for(n in e)l[n]=e[n];x(k,l,function(){var e=O(k);
if(e&&!e._iScroll){var c=(k||K).getAttribute("data-scroll-style")||"";e.style["-webkit-overflow-scrolling"]=c}f(b[0],b[1],b[3],b[4]);a();g()},!0);aa=i;K=k}})&&2>b)return!1}function t(e,c){k(function(b){var a=[];c.forEach(function(b){var e={},c=p(b[0],b[1],e);P||L(c);a.push([b[0],c,{},b[1],e])});a.unshift(0);a.unshift(e);Array.prototype.splice.apply(J,a);b()})}function I(){ca.length&&k(ca.shift())}function x(e,c,b,a){function d(){l.body.removeChild(g);b()}function f(){--t||(u(),v(),x(),h.appendChild(j),
e.appendChild(p),i(h,e,"instant"),d())}var g=l.createElement("div");g.className="app-clickblocker";l.body.appendChild(g);var h=K;if(c.transition)a&&(c.transition=W[c.transition]||c.transition),i(h,e,c,d);else if(c.transition=a?R:Y,"ios"!==N||"slide-left"!==c.transition&&"slide-right"!==c.transition)i(h,e,c,d);else{var a=h.querySelector(".app-topbar"),j=h.querySelector(".app-content"),k=h.querySelector(".app-topbar .app-title"),m=h.querySelector(".app-topbar .left.app-button"),n=h.querySelector(".app-topbar .right.app-button"),
o=e.querySelector(".app-topbar"),p=e.querySelector(".app-content"),q=e.querySelector(".app-topbar .app-title"),r=e.querySelector(".app-topbar .left.app-button"),s=e.querySelector(".app-topbar .right.app-button");if(!a||!o||!j||!p)i(h,e,c,d);else{var t=4,u=y(a,o,k,q,c,f),v=y(a,o,m,r,c,f),x=y(a,o,n,s,c,f);i(j,p,c,f)}}}function y(e,c,b,a,d,f){var h=function(){};if(b&&a)i(b,a,{easing:d.easing,duration:d.duration,transition:"fade"},f),h=function(){e.appendChild(b);c.appendChild(a)};else if(b){var g=l.createElement("div");
g.className=b.className;g.innerHTML=b.innerHTML;g.style.visibility="hidden";i(b,g,{easing:d.easing,duration:d.duration,transition:"fade"},f);h=function(){e.removeChild(g);e.appendChild(b)}}else a?(g=l.createElement("div"),g.className=a.className,g.innerHTML=a.innerHTML,g.style.visibility="hidden",e.appendChild(g),i(g,a,{easing:d.easing,duration:d.duration,transition:"fade"},f),h=function(){c.appendChild(a)}):setTimeout(f,0);return h}function O(e){if(e=e||K)if((e=e.querySelector(".app-content"))&&
e._scrollable)return e}function j(e){var c=e.querySelector(".app-topbar");if(e=e.querySelector(".app-content")){var b=u.innerHeight;if(c){var c=l.defaultView.getComputedStyle(c,null),a="android"===N?48:44;c.height&&(a=parseInt(c.height)||0);e.style.height=b-a+"px"}else e.style.height=b+"px"}}var A="app-page",v="data-page",ga="app-ios",E="app-android",m="app-loaded",da="__APP_JS_STACK__",U="slide-left",ha="implode-out",ia="instant",ba="fade-on",W={instant:"instant",fade:"fade","fade-on":"fade-off",
"fade-off":"fade-on","scale-in":"scale-out","scale-out":"scale-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","implode-in":"implode-out","implode-out":"implode-in","slide-left":"slide-right","slide-right":"slide-left","slide-up":"slide-down","slide-down":"slide-up","slideon-left":"slideoff-left","slideon-right":"slideoff-right","slideon-up":"slideoff-up",
"slideon-down":"slideoff-down","slideoff-left":"slideon-left","slideoff-right":"slideon-right","slideoff-up":"slideon-up","slideoff-down":"slideon-down"},F={},V={},G={},J=[],ca=[],X=!1,Z=!1,P=!1,N,Q,Y,R,aa,K;F.platform=null;F.platformVersion=null;F.current=function(){return aa};F.add=function(c,f){"string"!==typeof c&&(f=c,c=void 0);var b;a:if(f){try{b=f instanceof Node||f instanceof HTMLElement;break a}catch(a){}b="object"!==typeof f||"number"!==typeof f.nodeType||"string"!==typeof f.nodeName?!1:
!0}else b=!1;if(!b)throw TypeError("page template node must be a DOM node, got "+f);C(f,c)};F.populator=function(c,f,b){if("string"!==typeof c)throw TypeError("page name must be a string, got "+c);if("function"!==typeof f)throw TypeError("page populator must be a function, got "+f);switch(typeof b){case "undefined":b=function(){};break;case "function":break;default:throw TypeError("page unpopulator must be a function, got "+b);}G[c]||(G[c]=[]);G[c].push([f,b])};F.load=function(c,f,b,a){if("string"!==
typeof c)throw TypeError("page name must be a string, got "+c);switch(typeof f){case "function":a=f;f={};b={};break;case "undefined":f={};break;case "string":b=f;f={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+f);}switch(typeof b){case "function":a=b;b={};break;case "undefined":b={};break;case "string":b={transition:b};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+b);}switch(typeof a){case "undefined":a=
function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+a);}s(c,f,b,a)};F.back=function(c,f){switch(typeof c){case "function":f=c;c={};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+c);}switch(typeof f){case "undefined":f=function(){};break;case "function":break;default:throw TypeError("callback must be a function if defined, got "+f);}return n(c,f)};F.setDefaultTransition=
function(c){if(!(c in W))throw TypeError("invalid transition type, got "+c);h(c)};F.removeFromStack=function(e,g){var b=J.length-1;switch(typeof e){case "undefined":e=0;break;case "number":if(Math.abs(e)>b)throw TypeError("absolute start index cannot be greater than stack size, got "+e);0>e&&(e=b-e);break;default:throw TypeError("start index must be a number if defined, got "+e);}switch(typeof g){case "undefined":g=b;break;case "number":if(Math.abs(g)>b)throw TypeError("absolute end index cannot be greater than stack size, got "+
g);0>g&&(g=b-g);break;default:throw TypeError("end index must be a number if defined, got "+g);}if(e>g)throw TypeError("start index cannot be greater than end index");var a=e,d=g;k(function(b){J.splice(a,d-a).forEach(function(a){c(a[0],a[1],a[3],a[4]);f(a[0],a[1],a[3],a[4])});b()})};F.addToStack=function(c,f){var b=J.length-1;switch(typeof c){case "undefined":c=0;break;case "number":if(Math.abs(c)>b)throw TypeError("absolute index cannot be greater than stack size, got "+c);0>c&&(c=b-c);break;default:throw TypeError("index must be a number if defined, got "+
c);}if(!H(f))throw TypeError("added pages must be an array, got "+f);f=f.slice();f.forEach(function(a,b){if("string"===typeof a)a=[a,{}];else if(H(a))a=a.slice();else throw TypeError("page description must be an array (page name, arguments), got "+a);if("string"!==typeof a[0])throw TypeError("page name must be a string, got "+a[0]);switch(typeof a[1]){case "undefined":a[1]={};break;case "object":break;default:throw TypeError("page arguments must be an object if defined, got "+a[1]);}f[b]=a});t(c,
f)};var M=F,S;a:{try{var ea=JSON.parse(localStorage[da]),T=ea.pop();S=function(){r();if(!(T[0]in V))throw TypeError(T[0]+" is not a known page");ea.forEach(function(c){if(!(c[0]in V))throw TypeError(c[0]+" is not a known page");});t(0,ea);s(T[0],T[1],{},function(){})};break a}catch(fa){}S=null}M.restore=S;M=function(){K&&j(K)};u.addEventListener("resize",M);u.addEventListener("load",M);D&&(D.plugin&&D.plugin.back)&&D.plugin.back(function(){if(1<J.length)return F.back(),!1});u.App=F})(window,document,
ImageLoader,Swapper,Clickable,Scrollable,window.clik);
